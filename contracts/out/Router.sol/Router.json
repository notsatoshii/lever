{"abi":[{"type":"constructor","inputs":[{"name":"_ledger","type":"address","internalType":"address"},{"name":"_priceEngine","type":"address","internalType":"address"},{"name":"_riskEngine","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"closePosition","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"int256","internalType":"int256"},{"name":"minPrice","type":"uint256","internalType":"uint256"},{"name":"maxPrice","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"collateralToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"depositCollateral","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getPositionWithPnL","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"marketId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"position","type":"tuple","internalType":"struct IPositionLedger.Position","components":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"size","type":"int256","internalType":"int256"},{"name":"entryPrice","type":"uint256","internalType":"uint256"},{"name":"collateral","type":"uint256","internalType":"uint256"},{"name":"openTimestamp","type":"uint256","internalType":"uint256"},{"name":"lastFundingIndex","type":"uint256","internalType":"uint256"},{"name":"lastBorrowIndex","type":"uint256","internalType":"uint256"}]},{"name":"unrealizedPnL","type":"int256","internalType":"int256"},{"name":"currentPrice","type":"uint256","internalType":"uint256"},{"name":"isLiquidatable","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"ledger","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPositionLedger"}],"stateMutability":"view"},{"type":"function","name":"lpPool","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"openPosition","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"int256","internalType":"int256"},{"name":"collateralAmount","type":"uint256","internalType":"uint256"},{"name":"maxPrice","type":"uint256","internalType":"uint256"},{"name":"minPrice","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"previewTrade","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"int256","internalType":"int256"},{"name":"collateral","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"executionPrice","type":"uint256","internalType":"uint256"},{"name":"requiredMargin","type":"uint256","internalType":"uint256"},{"name":"maxLeverage","type":"uint256","internalType":"uint256"},{"name":"marginOk","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"priceEngine","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPriceEngine"}],"stateMutability":"view"},{"type":"function","name":"riskEngine","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IRiskEngine"}],"stateMutability":"view"},{"type":"function","name":"setEngines","inputs":[{"name":"_ledger","type":"address","internalType":"address"},{"name":"_priceEngine","type":"address","internalType":"address"},{"name":"_riskEngine","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setLPPool","inputs":[{"name":"_lpPool","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawCollateral","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"CollateralDeposited","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"CollateralWithdrawn","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionClosed","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"size","type":"int256","indexed":false,"internalType":"int256"},{"name":"executionPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"realizedPnL","type":"int256","indexed":false,"internalType":"int256"}],"anonymous":false},{"type":"event","name":"PositionOpened","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"size","type":"int256","indexed":false,"internalType":"int256"},{"name":"executionPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"fee","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"InsufficientMargin","inputs":[]},{"type":"error","name":"InvalidSize","inputs":[]},{"type":"error","name":"ReentrantCall","inputs":[]},{"type":"error","name":"StalePrice","inputs":[]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"Unauthorized","inputs":[]}],"bytecode":{"object":"0x608034620000d357601f62001aed38819003918201601f19168301916001600160401b03831184841017620000d757808492608094604052833981010312620000d3576200004d81620000eb565b6200005b60208301620000eb565b906200007860606200007060408601620000eb565b9401620000eb565b9060018060a01b03199333855f5416175f5560018060a01b0380948180941687600154161760015516856002541617600255168360035416176003551690600454161760045560016006556040516119ec9081620001018239f35b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b0382168203620000d35756fe60806040818152600480361015610014575f80fd5b5f9260e08435811c9182630cd5781814611632575081633737bcb41461160857816356397c35146115de578163623309b714610f555781636971c96714610ea7578163767a7b0514610b865781638313e05414610b5c5781638da5cb5b14610b3357816392b888ae14610b09578163aaf5eb6814610ae1578163b2016bd414610ab9578163db48fa36146107c0578163de366d111461030657508063ece1373214610173578063ece153b6146101295763f2fde38b146100d2575f80fd5b34610125576020366003190112610125576100eb61187e565b83546001600160a01b03939192919084163303610119575050166001600160601b0360a01b5f5416175f5580f35b516282b42960e81b8152fd5b8280fd5b50346101255760203660031901126101255761014361187e565b83546001600160a01b03939192919084163303610119575050166001600160601b0360a01b600554161760055580f35b5090346101255761018336611894565b9190926002600654146102f857600260065582156102ea57805482516323b872dd60e01b81523381840190815230602082810191909152604082018790526001600160a01b03939091839185169082908b90829060600103925af19081156102e05787916102a3575b50156102945790859160015416803b15610125578351636a4e5a1d60e11b8152339281019283526020830187905260408301869052918391839182908490829060600103925af1801561028a57610272575b5050519081527ff4d587c98d234ca4d147061e6b5167e7f41ee17f11562a9f0b49570abece859e60203392a3600160065580f35b61027b906118aa565b61028657835f61023e565b8380fd5b83513d84823e3d90fd5b5090516312171d8360e31b8152fd5b90506020813d82116102d8575b816102bd602093836118ee565b810103126102d4576102ce90611910565b5f6101ec565b8680fd5b3d91506102b0565b84513d89823e3d90fd5b9051630ffd11ad60e01b8152fd5b90516306fda65d60e31b8152fd5b919050346102865760a036600319011261028657803592602491823593604435936002600654146107b057600260065585156107a057600254845163cc30bb0560e01b8152808501899052603c838201526001600160a01b039182169460209490929185816044818a5afa908115610655578c9161076b575b5061075b57848a604489518099819363a0e3605760e01b8352888301528d898301525afa9586156105fe578b96610728575b508a89138061071d575b610702578a891280610712575b610702578761065f575b6001548751633adbb5af60e01b815233858201908152602081018d90529091839183918616908290819060400103915afa918215610655578c92610628575b505060608101519088820180921161061657858c959493926104378c838b950151611977565b878112610608575b8061054d575b505050508060035416803b1561054957848091858d8b519485938492630e0dc17560e41b8452898401525af1801561053f5790859161052b575b50506001541691823b156102865760a48492838c958a51968795869463d52019e360e01b865233908601528401528c60448401528960648401528b60848401525af180156105215761050d575b505082519485528401528201528260608201527f382baede3e50dbafb05c08ffdcde2d7ed04fd153cbd8f6c79788b3a9901566bb60803392a3600160065580f35b610516906118aa565b6102d457865f6104cc565b85513d84823e3d90fd5b610534906118aa565b61028657835f61047f565b88513d87823e3d90fd5b8480fd5b90919293809596975060035416908d6105918c5196879586948594630c86db9560e31b86528c86019094939260609260808301968352602083015260408201520152565b03915afa9081156105fe578b916105c5575b50156105b6579089929185855f80610445565b5084516341c092a960e01b8152fd5b90508481813d83116105f7575b6105dc81836118ee565b810103126105f3576105ed90611910565b5f6105a3565b8a80fd5b503d6105d2565b87513d8d823e3d90fd5b610611906119a6565b61043f565b634e487b7160e01b8c5260118452848cfd5b6106479250803d1061064e575b61063f81836118ee565b81019061191d565b5f80610411565b503d610635565b88513d8e823e3d90fd5b8a856106a2848654168b8b519485809481936323b872dd60e01b835230338d850160409194939294606082019560018060a01b0380921683521660208201520152565b03925af1908115610655578c916106c9575b506103d25786516312171d8360e31b81528390fd5b90508581813d83116106fb575b6106e081836118ee565b810103126106f7576106f190611910565b5f6106b4565b8b80fd5b503d6106d6565b86516341c092a960e01b81528390fd5b5060843586106103c8565b5060643586116103bb565b9095508481813d8311610754575b61074081836118ee565b810103126107505751945f6103b1565b5f80fd5b503d610736565b8651630cd5fa0760e11b81528390fd5b90508581813d8311610799575b61078281836118ee565b810103126106f75761079390611910565b5f61037f565b503d610778565b8351630ffd11ad60e01b81528390fd5b83516306fda65d60e31b81528390fd5b929050346102865780600319360112610286579261085a92936107e161187e565b946024359180516107f1816118d2565b8481528460c0602092828482015282858201528260608201528260808201528260a0820152015284938560018060a01b039182600154169886828d88519d8e928392633adbb5af60e01b845286840160209093929193604081019460018060a01b031681520152565b03818d5afa9a8b15610aaf57839b610a8b575b50602498999a9b85856002541688519b8c8092635af3d06160e01b825287878301525afa998a15610a8157849a610a52575b50858d019b8c51610905575b50505050505096816101409860c093519883518a5251908901528082015190880152606081015160608801526080810151608088015260a081015160a0880152015160c08601528401526101008301521515610120820152f35b87516302986a7560e41b81526001600160a01b03831681850190815260208101869052604081018d9052979c5095995093959294919390928b9183918290819060600103915afa908115610a4857918693918a95938791610a14575b506003548551633aa8cf8560e21b81526001600160a01b03909316938301938452602084019490945260408301959095529397849216908290819060600103915afa918215610a095780926109c4575b50909590508161014060c05f80806108ab565b9091508282813d8311610a02575b6109dc81836118ee565b810103126109ff57509660c0916109f561014099611910565b91988193506109b1565b80fd5b503d6109d2565b8351903d90823e3d90fd5b94505093508983813d8311610a41575b610a2e81836118ee565b810103126107505788938693515f610961565b503d610a24565b86513d87823e3d90fd5b9099508581813d8311610a7a575b610a6a81836118ee565b810103126107505751985f61089f565b503d610a60565b87513d86823e3d90fd5b6024999a9b50610aa790883d8a1161064e5761063f81836118ee565b9a999861086d565b86513d85823e3d90fd5b5050346101255782600319360112610125575490516001600160a01b03909116815260209150f35b50505034610b055781600319360112610b055760209051670de0b6b3a76400008152f35b5080fd5b50505034610b055781600319360112610b055760035490516001600160a01b039091168152602090f35b50505034610b055781600319360112610b0557905490516001600160a01b039091168152602090f35b50505034610b055781600319360112610b055760025490516001600160a01b039091168152602090f35b849391503461028657610b9836611894565b9290936002600654146102f857600260065583156102ea576001548251633adbb5af60e01b815233838201908152602081018890526001600160a01b03928992908416918790829081906040010381855afa968715610aaf578397610e88575b5050602095868101908151610d34575b5050610c13876119a6565b90803b15610125578551636a4e5a1d60e11b815233868201908152602081018b90526040810193909352918391839182908490829060600103925af1801561052157610d20575b50508154835163a9059cbb60e01b815233818501908152602081018890529092869284928390036040019183918c91165af1908115610d16578791610ce1575b5015610cd35750907fdaed309a628faec6cab72194019e2a1a34e890ca9bf9be99788992dd5469281991519283523392a3600160065580f35b90516312171d8360e31b8152fd5b90508381813d8311610d0f575b610cf881836118ee565b810103126102d457610d0990611910565b87610c9a565b503d610cee565b83513d89823e3d90fd5b610d29906118aa565b6102d4578688610c5a565b6060919293500151878103908111610e7557836002541691878a6024895180968193635af3d06160e01b83528b8301525afa9283156105fe57908892918c94610e44575b5080518c8112610e355750515b8560035416908b610dc18a5196879586948594630c86db9560e31b86528d86019094939260609260808301968352602083015260408201520152565b03915afa908115610e2b578991610df2575b5015610de25787908980610c08565b83516341c092a960e01b81528390fd5b90508581813d8311610e24575b610e0981836118ee565b81010312610e2057610e1a90611910565b89610dd3565b8880fd5b503d610dff565b85513d8b823e3d90fd5b610e3f91506119a6565b610d85565b8381949295503d8311610e6e575b610e5c81836118ee565b8101031261075057879151928c610d78565b503d610e52565b634e487b7160e01b8a526011855260248afd5b610e9f929750803d1061064e5761063f81836118ee565b948980610bf8565b50503461012557606036600319011261012557610ec261187e565b6024356001600160a01b03818116939092918490036107505760443594838616809603610750578387541633036101195750501680610f3c575b5080610f23575b5080610f0d575080f35b6001600160601b0360a01b600354161760035580f35b6001600160601b0360a01b60025416176002555f610f03565b6001600160601b0360a01b60015416176001555f610efc565b84848434610125576080366003190112610125578035916024948535926002600654146115d05760026006556001548351633adbb5af60e01b80825233848301908152602081018990526001600160a01b039384169a9195949392919085908390819003604001818e5afa9182156115c6578a926115a7575b506020948583019687511561159757846002541697895163cc30bb0560e01b81528c88820152603c8582015288816044818d5afa90811561158b578e91611552575b5061154257878b60448e8d519c8d93849263a0e3605760e01b84528d840152898301525afa988915611538578d99611509575b508c815113806114fe575b6114ee578c905112806114e3575b6114d35788516302986a7560e41b815233878201908152602081018d9052604081018a90529c9d9b9c9a9b909a88918c918290819060600103915afa998a156114c9578d9a61149a575b508c8560035416803b15610b05578190858f8d519485938492630e0dc17560e41b84528d8401525af1801561148e5761147b575b508c8560015416803b15610b0557818e60a48f93838f918f8e9351978896879563d52019e360e01b875233908701528d860152604485015260648401528160848401525af1801561147157918e918593611453575b50506001548b51938452338985019081526020810192909252839182900360400190829089165afa918d83156114485790889392919261142b575b50500151158061141e575b6111b7575b5050505082519485528401528201527fef57cfe941e18e7c3ca4c3140496c9fff61fba7c7e287dc070a6edc239864a0760603392a3600160065580f35b8a85898281131561134b5750505082600554169081156113185750835487516323b872dd60e01b81526001600160a01b0392909216828601908152306020820152604081018a9052869183918290036060019082908f9088165af19081156105fe578b916112e3575b50156112d357899161123888606087945b0151611977565b838113611246575b5061117a565b8454885163a9059cbb60e01b815233818801908152602081019390935294859392849003604001928492165af1908115610e2b57899161129e575b50156112905787828280611240565b83516312171d8360e31b8152fd5b90508281813d83116112cc575b6112b581836118ee565b81010312610e20576112c690611910565b89611281565b503d6112ab565b85516312171d8360e31b81528390fd5b90508481813d8311611311575b6112fa81836118ee565b810103126105f35761130b90611910565b8b611220565b503d6112f0565b84600f606492888b519362461bcd60e51b85528401528201526e131408141bdbdb081b9bdd081cd95d608a1b6044820152fd5b91809593508294919412611366575b90606061123892611231565b92906113bf929450611377906119a6565b6060840151808211611416575b50848654168d8660055416908b5180968195829463a9059cbb60e01b84528c840160209093929193604081019460018060a01b031681520152565b03925af19081156105fe578b916113e1575b50156112d357899187859261135a565b90508481813d831161140f575b6113f881836118ee565b810103126105f35761140990611910565b8b6113d1565b503d6113ee565b90508d611384565b5060608201511515611175565b6114419250803d1061064e5761063f81836118ee565b8d8061116a565b8a51903d90823e3d90fd5b90925061146091506118aa565b61146d57818c8e5f61112f565b8c80fd5b8b513d84823e3d90fd5b611487909d919d6118aa565b9b8d6110da565b8e8b51903d90823e3d90fd5b9099508681813d83116114c2575b6114b281836118ee565b8101031261146d5751988d6110a6565b503d6114a8565b89513d8f823e3d90fd5b88516341c092a960e01b81528690fd5b50606435881161105c565b89516341c092a960e01b81528790fd5b50604435891061104e565b9098508781813d8311611531575b61152181836118ee565b8101031261146d5751978e611043565b503d611517565b8a513d8f823e3d90fd5b8951630cd5fa0760e11b81528790fd5b90508881813d8311611584575b61156981836118ee565b810103126115805761157a90611910565b8f611010565b8d80fd5b503d61155f565b8e8c51903d90823e3d90fd5b8851630ffd11ad60e01b81528690fd5b6115bf919250853d871161064e5761063f81836118ee565b908b610fce565b87513d8c823e3d90fd5b82516306fda65d60e31b8152fd5b50505034610b055781600319360112610b055760015490516001600160a01b039091168152602090f35b50505034610b055781600319360112610b055760055490516001600160a01b039091168152602090f35b91505083346109ff5760603660031901126109ff5782359360243593836044359560018060a01b0390816002541663a0e3605760e01b8452898585015281602485015283604460209586935afa968715611874578697611841575b5085811261183257905b60035416845198632e3a4fc160e11b8a52858a806116ca8b87868b85016040919493926060820195825260208201520152565b0381855afa9485156118285787956117f6575b8651636df4d3d960e11b8152818101838152602081018c9052604081018b90529a9b5098999798978590899081906060010381865afa9788156117ec5789986117bd575b508651630c86db9560e31b815290810191825260208201939093526040810199909952606089018890529097829189918290819060800103915afa948515610a09578095611783575b5060809650825195865285015283015215156060820152f35b9080955087813d83116117b6575b61179b81836118ee565b810103126109ff57506117af608096611910565b938761176a565b503d611791565b9097508481813d83116117e5575b6117d581836118ee565b81010312610e2057519684611721565b503d6117cb565b87513d8b823e3d90fd5b9450858a813d8311611821575b61180d81836118ee565b810103126102d457985197988998946116dd565b503d611803565b86513d89823e3d90fd5b61183b906119a6565b90611697565b9096508281813d831161186d575b61185981836118ee565b810103126118695751958961168d565b8580fd5b503d61184f565b85513d88823e3d90fd5b600435906001600160a01b038216820361075057565b6040906003190112610750576004359060243590565b67ffffffffffffffff81116118be57604052565b634e487b7160e01b5f52604160045260245ffd5b60e0810190811067ffffffffffffffff8211176118be57604052565b90601f8019910116810190811067ffffffffffffffff8211176118be57604052565b5190811515820361075057565b908160e09103126107505760c060405191611937836118d2565b805183526020810151602084015260408101516040840152606081015160608401526080810151608084015260a081015160a0840152015160c082015290565b9190915f838201938412911290801582169115161761199257565b634e487b7160e01b5f52601160045260245ffd5b600160ff1b8114611992575f039056fea264697066735822122044206976a29c6b3897ecd3dbd72582e83e2ac5fe44ee34155fcb2b334671c89564736f6c63430008140033","sourceMap":"669:11697:38:-:0;;;;;;;;;;;;;-1:-1:-1;;669:11697:38;;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;;:::i;:::-;;;;;;;;2554:10;;669:11697;-1:-1:-1;669:11697:38;;;-1:-1:-1;669:11697:38;;;;;;;;;;;;;;;;;;;;;2617:40;669:11697;;;2617:40;669:11697;;;2667:37;669:11697;;;2667:37;669:11697;;;2714:42;669:11697;;;2714:42;669:11697;;2766:21;1045:1;669:11697;;;;;;;;;;-1:-1:-1;669:11697:38;;;;;;-1:-1:-1;669:11697:38;;;;;-1:-1:-1;669:11697:38;;;;-1:-1:-1;;;;;669:11697:38;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x60806040818152600480361015610014575f80fd5b5f9260e08435811c9182630cd5781814611632575081633737bcb41461160857816356397c35146115de578163623309b714610f555781636971c96714610ea7578163767a7b0514610b865781638313e05414610b5c5781638da5cb5b14610b3357816392b888ae14610b09578163aaf5eb6814610ae1578163b2016bd414610ab9578163db48fa36146107c0578163de366d111461030657508063ece1373214610173578063ece153b6146101295763f2fde38b146100d2575f80fd5b34610125576020366003190112610125576100eb61187e565b83546001600160a01b03939192919084163303610119575050166001600160601b0360a01b5f5416175f5580f35b516282b42960e81b8152fd5b8280fd5b50346101255760203660031901126101255761014361187e565b83546001600160a01b03939192919084163303610119575050166001600160601b0360a01b600554161760055580f35b5090346101255761018336611894565b9190926002600654146102f857600260065582156102ea57805482516323b872dd60e01b81523381840190815230602082810191909152604082018790526001600160a01b03939091839185169082908b90829060600103925af19081156102e05787916102a3575b50156102945790859160015416803b15610125578351636a4e5a1d60e11b8152339281019283526020830187905260408301869052918391839182908490829060600103925af1801561028a57610272575b5050519081527ff4d587c98d234ca4d147061e6b5167e7f41ee17f11562a9f0b49570abece859e60203392a3600160065580f35b61027b906118aa565b61028657835f61023e565b8380fd5b83513d84823e3d90fd5b5090516312171d8360e31b8152fd5b90506020813d82116102d8575b816102bd602093836118ee565b810103126102d4576102ce90611910565b5f6101ec565b8680fd5b3d91506102b0565b84513d89823e3d90fd5b9051630ffd11ad60e01b8152fd5b90516306fda65d60e31b8152fd5b919050346102865760a036600319011261028657803592602491823593604435936002600654146107b057600260065585156107a057600254845163cc30bb0560e01b8152808501899052603c838201526001600160a01b039182169460209490929185816044818a5afa908115610655578c9161076b575b5061075b57848a604489518099819363a0e3605760e01b8352888301528d898301525afa9586156105fe578b96610728575b508a89138061071d575b610702578a891280610712575b610702578761065f575b6001548751633adbb5af60e01b815233858201908152602081018d90529091839183918616908290819060400103915afa918215610655578c92610628575b505060608101519088820180921161061657858c959493926104378c838b950151611977565b878112610608575b8061054d575b505050508060035416803b1561054957848091858d8b519485938492630e0dc17560e41b8452898401525af1801561053f5790859161052b575b50506001541691823b156102865760a48492838c958a51968795869463d52019e360e01b865233908601528401528c60448401528960648401528b60848401525af180156105215761050d575b505082519485528401528201528260608201527f382baede3e50dbafb05c08ffdcde2d7ed04fd153cbd8f6c79788b3a9901566bb60803392a3600160065580f35b610516906118aa565b6102d457865f6104cc565b85513d84823e3d90fd5b610534906118aa565b61028657835f61047f565b88513d87823e3d90fd5b8480fd5b90919293809596975060035416908d6105918c5196879586948594630c86db9560e31b86528c86019094939260609260808301968352602083015260408201520152565b03915afa9081156105fe578b916105c5575b50156105b6579089929185855f80610445565b5084516341c092a960e01b8152fd5b90508481813d83116105f7575b6105dc81836118ee565b810103126105f3576105ed90611910565b5f6105a3565b8a80fd5b503d6105d2565b87513d8d823e3d90fd5b610611906119a6565b61043f565b634e487b7160e01b8c5260118452848cfd5b6106479250803d1061064e575b61063f81836118ee565b81019061191d565b5f80610411565b503d610635565b88513d8e823e3d90fd5b8a856106a2848654168b8b519485809481936323b872dd60e01b835230338d850160409194939294606082019560018060a01b0380921683521660208201520152565b03925af1908115610655578c916106c9575b506103d25786516312171d8360e31b81528390fd5b90508581813d83116106fb575b6106e081836118ee565b810103126106f7576106f190611910565b5f6106b4565b8b80fd5b503d6106d6565b86516341c092a960e01b81528390fd5b5060843586106103c8565b5060643586116103bb565b9095508481813d8311610754575b61074081836118ee565b810103126107505751945f6103b1565b5f80fd5b503d610736565b8651630cd5fa0760e11b81528390fd5b90508581813d8311610799575b61078281836118ee565b810103126106f75761079390611910565b5f61037f565b503d610778565b8351630ffd11ad60e01b81528390fd5b83516306fda65d60e31b81528390fd5b929050346102865780600319360112610286579261085a92936107e161187e565b946024359180516107f1816118d2565b8481528460c0602092828482015282858201528260608201528260808201528260a0820152015284938560018060a01b039182600154169886828d88519d8e928392633adbb5af60e01b845286840160209093929193604081019460018060a01b031681520152565b03818d5afa9a8b15610aaf57839b610a8b575b50602498999a9b85856002541688519b8c8092635af3d06160e01b825287878301525afa998a15610a8157849a610a52575b50858d019b8c51610905575b50505050505096816101409860c093519883518a5251908901528082015190880152606081015160608801526080810151608088015260a081015160a0880152015160c08601528401526101008301521515610120820152f35b87516302986a7560e41b81526001600160a01b03831681850190815260208101869052604081018d9052979c5095995093959294919390928b9183918290819060600103915afa908115610a4857918693918a95938791610a14575b506003548551633aa8cf8560e21b81526001600160a01b03909316938301938452602084019490945260408301959095529397849216908290819060600103915afa918215610a095780926109c4575b50909590508161014060c05f80806108ab565b9091508282813d8311610a02575b6109dc81836118ee565b810103126109ff57509660c0916109f561014099611910565b91988193506109b1565b80fd5b503d6109d2565b8351903d90823e3d90fd5b94505093508983813d8311610a41575b610a2e81836118ee565b810103126107505788938693515f610961565b503d610a24565b86513d87823e3d90fd5b9099508581813d8311610a7a575b610a6a81836118ee565b810103126107505751985f61089f565b503d610a60565b87513d86823e3d90fd5b6024999a9b50610aa790883d8a1161064e5761063f81836118ee565b9a999861086d565b86513d85823e3d90fd5b5050346101255782600319360112610125575490516001600160a01b03909116815260209150f35b50505034610b055781600319360112610b055760209051670de0b6b3a76400008152f35b5080fd5b50505034610b055781600319360112610b055760035490516001600160a01b039091168152602090f35b50505034610b055781600319360112610b0557905490516001600160a01b039091168152602090f35b50505034610b055781600319360112610b055760025490516001600160a01b039091168152602090f35b849391503461028657610b9836611894565b9290936002600654146102f857600260065583156102ea576001548251633adbb5af60e01b815233838201908152602081018890526001600160a01b03928992908416918790829081906040010381855afa968715610aaf578397610e88575b5050602095868101908151610d34575b5050610c13876119a6565b90803b15610125578551636a4e5a1d60e11b815233868201908152602081018b90526040810193909352918391839182908490829060600103925af1801561052157610d20575b50508154835163a9059cbb60e01b815233818501908152602081018890529092869284928390036040019183918c91165af1908115610d16578791610ce1575b5015610cd35750907fdaed309a628faec6cab72194019e2a1a34e890ca9bf9be99788992dd5469281991519283523392a3600160065580f35b90516312171d8360e31b8152fd5b90508381813d8311610d0f575b610cf881836118ee565b810103126102d457610d0990611910565b87610c9a565b503d610cee565b83513d89823e3d90fd5b610d29906118aa565b6102d4578688610c5a565b6060919293500151878103908111610e7557836002541691878a6024895180968193635af3d06160e01b83528b8301525afa9283156105fe57908892918c94610e44575b5080518c8112610e355750515b8560035416908b610dc18a5196879586948594630c86db9560e31b86528d86019094939260609260808301968352602083015260408201520152565b03915afa908115610e2b578991610df2575b5015610de25787908980610c08565b83516341c092a960e01b81528390fd5b90508581813d8311610e24575b610e0981836118ee565b81010312610e2057610e1a90611910565b89610dd3565b8880fd5b503d610dff565b85513d8b823e3d90fd5b610e3f91506119a6565b610d85565b8381949295503d8311610e6e575b610e5c81836118ee565b8101031261075057879151928c610d78565b503d610e52565b634e487b7160e01b8a526011855260248afd5b610e9f929750803d1061064e5761063f81836118ee565b948980610bf8565b50503461012557606036600319011261012557610ec261187e565b6024356001600160a01b03818116939092918490036107505760443594838616809603610750578387541633036101195750501680610f3c575b5080610f23575b5080610f0d575080f35b6001600160601b0360a01b600354161760035580f35b6001600160601b0360a01b60025416176002555f610f03565b6001600160601b0360a01b60015416176001555f610efc565b84848434610125576080366003190112610125578035916024948535926002600654146115d05760026006556001548351633adbb5af60e01b80825233848301908152602081018990526001600160a01b039384169a9195949392919085908390819003604001818e5afa9182156115c6578a926115a7575b506020948583019687511561159757846002541697895163cc30bb0560e01b81528c88820152603c8582015288816044818d5afa90811561158b578e91611552575b5061154257878b60448e8d519c8d93849263a0e3605760e01b84528d840152898301525afa988915611538578d99611509575b508c815113806114fe575b6114ee578c905112806114e3575b6114d35788516302986a7560e41b815233878201908152602081018d9052604081018a90529c9d9b9c9a9b909a88918c918290819060600103915afa998a156114c9578d9a61149a575b508c8560035416803b15610b05578190858f8d519485938492630e0dc17560e41b84528d8401525af1801561148e5761147b575b508c8560015416803b15610b0557818e60a48f93838f918f8e9351978896879563d52019e360e01b875233908701528d860152604485015260648401528160848401525af1801561147157918e918593611453575b50506001548b51938452338985019081526020810192909252839182900360400190829089165afa918d83156114485790889392919261142b575b50500151158061141e575b6111b7575b5050505082519485528401528201527fef57cfe941e18e7c3ca4c3140496c9fff61fba7c7e287dc070a6edc239864a0760603392a3600160065580f35b8a85898281131561134b5750505082600554169081156113185750835487516323b872dd60e01b81526001600160a01b0392909216828601908152306020820152604081018a9052869183918290036060019082908f9088165af19081156105fe578b916112e3575b50156112d357899161123888606087945b0151611977565b838113611246575b5061117a565b8454885163a9059cbb60e01b815233818801908152602081019390935294859392849003604001928492165af1908115610e2b57899161129e575b50156112905787828280611240565b83516312171d8360e31b8152fd5b90508281813d83116112cc575b6112b581836118ee565b81010312610e20576112c690611910565b89611281565b503d6112ab565b85516312171d8360e31b81528390fd5b90508481813d8311611311575b6112fa81836118ee565b810103126105f35761130b90611910565b8b611220565b503d6112f0565b84600f606492888b519362461bcd60e51b85528401528201526e131408141bdbdb081b9bdd081cd95d608a1b6044820152fd5b91809593508294919412611366575b90606061123892611231565b92906113bf929450611377906119a6565b6060840151808211611416575b50848654168d8660055416908b5180968195829463a9059cbb60e01b84528c840160209093929193604081019460018060a01b031681520152565b03925af19081156105fe578b916113e1575b50156112d357899187859261135a565b90508481813d831161140f575b6113f881836118ee565b810103126105f35761140990611910565b8b6113d1565b503d6113ee565b90508d611384565b5060608201511515611175565b6114419250803d1061064e5761063f81836118ee565b8d8061116a565b8a51903d90823e3d90fd5b90925061146091506118aa565b61146d57818c8e5f61112f565b8c80fd5b8b513d84823e3d90fd5b611487909d919d6118aa565b9b8d6110da565b8e8b51903d90823e3d90fd5b9099508681813d83116114c2575b6114b281836118ee565b8101031261146d5751988d6110a6565b503d6114a8565b89513d8f823e3d90fd5b88516341c092a960e01b81528690fd5b50606435881161105c565b89516341c092a960e01b81528790fd5b50604435891061104e565b9098508781813d8311611531575b61152181836118ee565b8101031261146d5751978e611043565b503d611517565b8a513d8f823e3d90fd5b8951630cd5fa0760e11b81528790fd5b90508881813d8311611584575b61156981836118ee565b810103126115805761157a90611910565b8f611010565b8d80fd5b503d61155f565b8e8c51903d90823e3d90fd5b8851630ffd11ad60e01b81528690fd5b6115bf919250853d871161064e5761063f81836118ee565b908b610fce565b87513d8c823e3d90fd5b82516306fda65d60e31b8152fd5b50505034610b055781600319360112610b055760015490516001600160a01b039091168152602090f35b50505034610b055781600319360112610b055760055490516001600160a01b039091168152602090f35b91505083346109ff5760603660031901126109ff5782359360243593836044359560018060a01b0390816002541663a0e3605760e01b8452898585015281602485015283604460209586935afa968715611874578697611841575b5085811261183257905b60035416845198632e3a4fc160e11b8a52858a806116ca8b87868b85016040919493926060820195825260208201520152565b0381855afa9485156118285787956117f6575b8651636df4d3d960e11b8152818101838152602081018c9052604081018b90529a9b5098999798978590899081906060010381865afa9788156117ec5789986117bd575b508651630c86db9560e31b815290810191825260208201939093526040810199909952606089018890529097829189918290819060800103915afa948515610a09578095611783575b5060809650825195865285015283015215156060820152f35b9080955087813d83116117b6575b61179b81836118ee565b810103126109ff57506117af608096611910565b938761176a565b503d611791565b9097508481813d83116117e5575b6117d581836118ee565b81010312610e2057519684611721565b503d6117cb565b87513d8b823e3d90fd5b9450858a813d8311611821575b61180d81836118ee565b810103126102d457985197988998946116dd565b503d611803565b86513d89823e3d90fd5b61183b906119a6565b90611697565b9096508281813d831161186d575b61185981836118ee565b810103126118695751958961168d565b8580fd5b503d61184f565b85513d88823e3d90fd5b600435906001600160a01b038216820361075057565b6040906003190112610750576004359060243590565b67ffffffffffffffff81116118be57604052565b634e487b7160e01b5f52604160045260245ffd5b60e0810190811067ffffffffffffffff8211176118be57604052565b90601f8019910116810190811067ffffffffffffffff8211176118be57604052565b5190811515820361075057565b908160e09103126107505760c060405191611937836118d2565b805183526020810151602084015260408101516040840152606081015160608401526080810151608084015260a081015160a0840152015160c082015290565b9190915f838201938412911290801582169115161761199257565b634e487b7160e01b5f52601160045260245ffd5b600160ff1b8114611992575f039056fea264697066735822122044206976a29c6b3897ecd3dbd72582e83e2ac5fe44ee34155fcb2b334671c89564736f6c63430008140033","sourceMap":"669:11697:38:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;669:11697:38;;;;;;:::i;:::-;;;-1:-1:-1;;;;;669:11697:38;;;;;;;2114:10;:19;2110:46;;669:11697;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;2110:46;669:11697;-1:-1:-1;;;2142:14:38;;;669:11697;;;;;;;;;;;-1:-1:-1;;669:11697:38;;;;;;:::i;:::-;;;-1:-1:-1;;;;;669:11697:38;;;;;;;2114:10;:19;2110:46;;669:11697;;;-1:-1:-1;;;;;669:11697:38;;3406:16;669:11697;;;3406:16;669:11697;;;;;;;;;;;;:::i;:::-;;;;1087:1;2222:7;669:11697;2222:18;2218:46;;1087:1;2222:7;1087:1;9177:11;;9173:37;;669:11697;;;;-1:-1:-1;;;9264:63:38;;9293:10;9264:63;;;669:11697;;;9313:4;9264:63;669:11697;;;;;;;;;;;;;-1:-1:-1;;;;;669:11697:38;9264:63;;669:11697;;;;;;;9313:4;;669:11697;;;;9264:63;;;;;;;;;;;;;669:11697;9263:64;;9259:118;;669:11697;;;;;;9422:61;;;;;669:11697;;-1:-1:-1;;;9422:61:38;;9293:10;9422:61;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;;;9422:61;;;;;;;;;;669:11697;;;;;;;9507:49;9264:63;9293:10;9507:49;;669:11697;2222:7;1087:1;669:11697;;9422:61;;;;:::i;:::-;669:11697;;9422:61;;;;669:11697;;;;9422:61;669:11697;;;;;;;;;9259:118;-1:-1:-1;669:11697:38;;-1:-1:-1;;;9350:16:38;;;9264:63;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;9264:63;;;669:11697;;;;9264:63;;;-1:-1:-1;9264:63:38;;;669:11697;;;;;;;;;9173:37;669:11697;;-1:-1:-1;;;9197:13:38;;;2218:46;669:11697;;-1:-1:-1;;;2249:15:38;;;669:11697;;;;;;;;;-1:-1:-1;;669:11697:38;;;;;;;;;;;;;;;1087:1;2222:7;669:11697;2222:18;2218:46;;1087:1;2222:7;1087:1;4098:14;;4094:40;;1087:1;669:11697;;;-1:-1:-1;;;4190:38:38;;;;;669:11697;;;4225:2;669:11697;;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;;;;;4190:38;;;;;;;;;;;669:11697;4186:63;;;669:11697;;;;;;;;;;;;4324:50;;;;;669:11697;;;;;;4324:50;;;;;;;;;;;669:11697;4423:13;;;;:42;;;669:11697;4419:75;;4508:13;;;:42;;;669:11697;4504:75;;4643:20;4639:186;;669:11697;;;;;-1:-1:-1;;;4913:40:38;;4932:10;4913:40;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;4913:40;;;;;;;;;;;;;669:11697;4989:14;;669:11697;4989:14;;669:11697;;;;;;;;;;5097:8;;;;;;:20;:8;;;;;669:11697;5097:20;:::i;:::-;5148:12;;;669:11697;;5148:51;5259:14;5255:279;;5148:51;669:11697;;;;;;;;5602:35;;;;;669:11697;;;;;;;;;;;;;;;5602:35;;;;;669:11697;5602:35;;;;;;;;;;;5148:51;669:11697;;;;;5685:156;;;;;;669:11697;;;;;;;;;;;;;;;;5685:156;;4932:10;5685:156;;;669:11697;;;;;;;;;;;;;;;;;;;5685:156;;;;;;;;5148:51;669:11697;;;;;;;;;;;;;;;;;;5865:197;669:11697;4932:10;5865:197;;669:11697;2222:7;1087:1;669:11697;;5685:156;;;;:::i;:::-;669:11697;;5685:156;;;;;669:11697;;;;;;;;;5602:35;;;;:::i;:::-;669:11697;;5602:35;;;;;669:11697;;;;;;;;;5602:35;669:11697;;;5255:279;669:11697;;;;;;;;;;;;;;5305:162;669:11697;;;;;;;;;;;;5305:162;;;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;5305:162;;;;;;;;;;;;;;5255:279;5485:9;;5481:42;;5255:279;;;;;;;;;;5481:42;-1:-1:-1;669:11697:38;;-1:-1:-1;;;5503:20:38;;;5305:162;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;5305:162;;;669:11697;;;;5305:162;;;;;;669:11697;;;;;;;;;5148:51;5190:8;;;:::i;:::-;5148:51;;669:11697;-1:-1:-1;;;669:11697:38;;;;;;;;4913:40;;;;;;-1:-1:-1;4913:40:38;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;669:11697;;;;;;;;;4639:186;669:11697;;4684:73;669:11697;;;;;;;;;;;;;;;;4684:73;;4733:4;4713:10;4684:73;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;;;4684:73;;;;;;;;;;;;;;4639:186;4683:74;4639:186;4679:136;669:11697;;-1:-1:-1;;;4784:16:38;;669:11697;;4784:16;4684:73;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;4684:73;;;669:11697;;;;4684:73;;;;;4504:75;669:11697;;-1:-1:-1;;;4559:20:38;;669:11697;;4559:20;4508:42;669:11697;;;4525:25;;4508:42;;4423;669:11697;;;4440:25;;4423:42;;4324:50;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;4324:50;;;;669:11697;;;;4324:50;;;;;4186:63;669:11697;;-1:-1:-1;;;4237:12:38;;669:11697;;4237:12;4190:38;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;4190:38;;;;;;;;4094:40;669:11697;;-1:-1:-1;;;4121:13:38;;669:11697;;4121:13;2218:46;669:11697;;-1:-1:-1;;;2249:15:38;;669:11697;;2249:15;669:11697;;;;;;;;;;;;;;;;11250:36;669:11697;;;;:::i;:::-;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;11143:20;11203:19;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;11250:36;;;;;669:11697;;;;;;;;;;;;;;;;;;;;;11250:36;;;;;;;;;;;;;;;669:11697;;;;;;;;;11311:11;669:11697;;;;;;;;;;;11311:34;;;;;;669:11697;11311:34;;;;;;;;;;;669:11697;11368:13;;;;669:11697;;;11364:211;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;11364:211;669:11697;;-1:-1:-1;;;11418:55:38;;-1:-1:-1;;;;;669:11697:38;;11418:55;;;669:11697;;;;;;;;;;;;;;;;;-1:-1:-1;669:11697:38;;-1:-1:-1;669:11697:38;;;;;;;;;;;;;;;;;;11418:55;;;;;;;;;;;;;;;;;;;;11364:211;-1:-1:-1;669:11697:38;;;;-1:-1:-1;;;11507:57:38;;-1:-1:-1;;;;;669:11697:38;;;11507:57;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;;;;11507:57;;;;;;;;;;;;;11364:211;-1:-1:-1;11487:77:38;;11364:211;-1:-1:-1;11487:77:38;669:11697;;11364:211;;;;;11507:57;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;;;;;;:::i;:::-;11507:57;;;;;;;669:11697;;;11507:57;;;;;;669:11697;;;;;;;;;;11418:55;;;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;;;11418:55;;;;;;;;;669:11697;;;;;;;;;11311:34;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;11311:34;;;;;;;;;;669:11697;;;;;;;;;11250:36;669:11697;11250:36;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;669:11697:38;;;;;;;-1:-1:-1;669:11697:38;;;;;;;;;;;;;;;;;;;1181:4;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;;;;;;;;;;;;;;801:31;669:11697;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;1087:1;2222:7;669:11697;2222:18;2218:46;;1087:1;2222:7;1087:1;9809:11;;9805:37;;669:11697;;;;-1:-1:-1;;;9899:40:38;;9918:10;9899:40;;;669:11697;;;;;;;;;-1:-1:-1;;;;;669:11697:38;;;;;;;9918:10;;669:11697;;;;;;9899:40;;;;;;;;;;;;;;669:11697;10015:8;;;;;;;669:11697;;;10011:502;;669:11697;10604:15;;;;;:::i;:::-;10558:62;;;;;;669:11697;;-1:-1:-1;;;10558:62:38;;9918:10;10558:62;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;;;;10558:62;;;;;;;;;;669:11697;-1:-1:-1;;669:11697:38;;;;-1:-1:-1;;;10672:44:38;;9918:10;10672:44;;;669:11697;;;;;;;;;;;;;;;10672:44;;;669:11697;10672:44;;669:11697;;9918:10;;669:11697;10672:44;;;;;;;;;;;669:11697;10671:45;;10667:99;;669:11697;;10789:49;669:11697;;;;;9918:10;10789:49;;669:11697;2222:7;1087:1;669:11697;;10667:99;669:11697;;-1:-1:-1;;;10739:16:38;;;10672:44;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;10672:44;;;;;;;;;669:11697;;;;;;;;;10558:62;;;;:::i;:::-;669:11697;;10558:62;;;;10011:502;10068:14;;;;;;669:11697;;;;;;;;;;1087:1;669:11697;;;;;;;;;;;;;;;10128:34;;;;;669:11697;10128:34;;;;;;;;;;;;;;;10011:502;-1:-1:-1;669:11697:38;;10194:13;;;669:11697;;;;10194:54;669:11697;10291:10;669:11697;;;;10291:155;669:11697;;;;;;;;;;;;10291:155;;;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;10291:155;;;;;;;;;;;;;;10194:54;10464:9;;10460:42;;10011:502;;;;;;10460:42;669:11697;;-1:-1:-1;;;10482:20:38;;669:11697;;10482:20;10291:155;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;10291:155;;;669:11697;;;;10291:155;;;;;;669:11697;;;;;;;;;10194:54;10238:9;;;;:::i;:::-;10194:54;;10128:34;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;10128:34;;;;;;;;;669:11697;-1:-1:-1;;;669:11697:38;;;;;;;;9899:40;;;;;;;-1:-1:-1;9899:40:38;;;;;;:::i;:::-;;;;;;669:11697;;;;;;;;-1:-1:-1;;669:11697:38;;;;;;:::i;:::-;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;;;;;;;;;;;;;;;;;;2114:10;:19;2110:46;;669:11697;;;3108:21;3104:60;;669:11697;3178:26;;3174:72;;669:11697;3260:25;;3256:68;;669:11697;;;3256:68;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;3174:72;-1:-1:-1;;;;;669:11697:38;;3206:40;669:11697;;;3206:40;669:11697;3174:72;;;3104:60;-1:-1:-1;;;;;669:11697:38;;;;;;;;3104:60;;;669:11697;;;;;;;;;-1:-1:-1;;669:11697:38;;;;;;;;;;;;1087:1;2222:7;669:11697;2222:18;2218:46;;1087:1;2222:7;1087:1;669:11697;;;;-1:-1:-1;;;6550:40:38;;;6569:10;6550:40;;;669:11697;;;;;;;;;-1:-1:-1;;;;;669:11697:38;;;;;;;6550:40;669:11697;;;;;;;6550:40;;;669:11697;6550:40;669:11697;;6550:40;;;;;;;;;;;669:11697;;;6604:8;;;;669:11697;;;6604:13;6600:39;;669:11697;1087:1;669:11697;;;;;;;;6695:38;;;;;;669:11697;6730:2;669:11697;;;;6695:38;;669:11697;6695:38;;;;;;;;;;;;;669:11697;6691:63;;;669:11697;;;;;;;;;;;;;;6829:50;;;;;669:11697;;;;;6829:50;;;;;;;;;;;669:11697;;;;;6977:12;:41;;;669:11697;6973:74;;669:11697;;;7061:12;:41;;;669:11697;7057:74;;669:11697;;-1:-1:-1;;;7188:61:38;;6569:10;7188:61;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7188:61;;;;;;;;;;;;;669:11697;;;;;;;7295:35;;;;;669:11697;;;;;;;;;;;;;;7295:35;;;;;669:11697;7295:35;;;;;;;;669:11697;;;;;;;7378:141;;;;;669:11697;;;;;;;;;;;;;;;;;;;;7378:141;;6569:10;7378:141;;;669:11697;;;;;;;;;;;;;;;;;;7378:141;;;;;;;;;;;;;669:11697;-1:-1:-1;;669:11697:38;;;;7640:40;;;6569:10;7640:40;;;669:11697;;;;;;;;;;;;7640:40;;;669:11697;7640:40;;669:11697;;;;7640:40;;;;;;;;;;;;;;;;669:11697;7694:11;;;669:11697;7694:16;:38;;;669:11697;7690:1074;;669:11697;;;;;;;;;;;;;;;;8787:138;669:11697;6569:10;8787:138;;669:11697;2222:7;1087:1;669:11697;;7690:1074;7802:7;;;;;;669:11697;;;;;;;7882:6;669:11697;;7882:20;;;669:11697;;-1:-1:-1;669:11697:38;;;;-1:-1:-1;;;7945:65:38;;-1:-1:-1;;;;;669:11697:38;;;;7945:65;;;669:11697;;;7990:4;669:11697;;;;;;;;;;;;;;7945:65;;;669:11697;7945:65;;669:11697;;;;;;7945:65;;;;;;;;;;;7798:628;7944:66;;7940:136;;7798:628;;8530:28;7798:628;669:11697;7798:628;;;8537:14;669:11697;8530:28;:::i;:::-;8576:15;;;8572:182;;7798:628;7690:1074;;;8572:182;669:11697;;;;-1:-1:-1;;;8616:58:38;;6569:10;8616:58;;;669:11697;;;;;;;;;;;;;8616:58;;;;669:11697;8616:58;;669:11697;;;8616:58;;;;;;;;;;;8572:182;8615:59;;8611:129;;8572:182;;;;;;8611:129;669:11697;;-1:-1:-1;;;8705:16:38;;;8616:58;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;8616:58;;;;;;;;7940:136;669:11697;;-1:-1:-1;;;8041:16:38;;669:11697;;8041:16;7945:65;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;7945:65;;;;;;;;669:11697;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;669:11697:38;;;;;7798:628;8100:7;;;;;;;;;;8096:330;;7798:628;;669:11697;8530:28;7798:628;;;8096:330;8214:4;;8308:38;8214:4;;;;;;:::i;:::-;669:11697;8248:14;;669:11697;8241:21;;;8237:48;;8096:330;669:11697;;;;;;;8333:6;669:11697;;;;;;;;;;;;;;8308:38;;;;;669:11697;;;;;;;;;;;;;;;;;;;;;8308:38;;;;;;;;;;;;;;8096:330;8307:39;;8303:109;;8096:330;;;;;;;8308:38;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;8308:38;;;;;;;;8237:48;8264:21;;8237:48;;;7694:38;7714:14;669:11697;7714:14;;669:11697;7714:18;;7694:38;;7640:40;;;;;;-1:-1:-1;7640:40:38;;;;;;:::i;:::-;;;;;;669:11697;;;;;;;;;;7378:141;;;;;;;;:::i;:::-;669:11697;;7378:141;;;;;;669:11697;;;;7378:141;669:11697;;;;;;;;;7295:35;;;;;;;:::i;:::-;;;;;;669:11697;;;;;;;;;;;7188:61;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;7188:61;;;;;;;;;;669:11697;;;;;;;;;7057:74;669:11697;;-1:-1:-1;;;7111:20:38;;669:11697;;7111:20;7061:41;669:11697;;;7077:25;;7061:41;;6973:74;669:11697;;-1:-1:-1;;;7027:20:38;;669:11697;;7027:20;6977:41;669:11697;;;6993:25;;6977:41;;6829:50;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;6829:50;;;;;;;;;;669:11697;;;;;;;;;6691:63;669:11697;;-1:-1:-1;;;6742:12:38;;669:11697;;6742:12;6695:38;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;:::i;:::-;6695:38;;;669:11697;;;;6695:38;;;;;;669:11697;;;;;;;;;;;6600:39;669:11697;;-1:-1:-1;;;6626:13:38;;669:11697;;6626:13;6550:40;;;;;;;;;;;;;;;:::i;:::-;;;;;;669:11697;;;;;;;;;2218:46;669:11697;;-1:-1:-1;;;2249:15:38;;;669:11697;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;;;;;;;;;;;;;;908:21;669:11697;;;-1:-1:-1;;;;;669:11697:38;;;;;;;;;;;;;;;;;;-1:-1:-1;;669:11697:38;;;;;;;;;;;;;;;;;;;;;11928:11;669:11697;;;;;11928:50;;;;;;669:11697;;;;;;;;;11928:50;;;;;;;;;;;;;;669:11697;-1:-1:-1;12015:14:38;;;669:11697;;12015:57;;669:11697;;;;;;;;;12102:67;;;;;;;;;;;;669:11697;;;;;;;;;;;;;;;;;;12102:67;;;;;;;;;;;;;;;12015:57;669:11697;;-1:-1:-1;;;12193:67:38;;;;;669:11697;;;;;;;;;;;;;;;;;-1:-1:-1;669:11697:38;;;;;;;;;;;;;12193:67;;;;;;;;;;;;;;12015:57;-1:-1:-1;669:11697:38;;-1:-1:-1;;;12281:76:38;;;;;669:11697;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;12281:76;;;;;;;;;;;;;12015:57;669:11697;;;;;;;;;;;;;;;;;;;;;;12281:76;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;;;:::i;:::-;12281:76;;;;;;;;;12193:67;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;12193:67;;;;;;;;669:11697;;;;;;;;;12102:67;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;;;;;;;12102:67;;;;;;;;669:11697;;;;;;;;;12015:57;12061:10;;;:::i;:::-;12015:57;;;11928:50;;;;;;;;;;;;;;;;;:::i;:::-;;;669:11697;;;;;11928:50;;;;669:11697;;;;11928:50;;;;;;669:11697;;;;;;;;;;;;;-1:-1:-1;;;;;669:11697:38;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;;669:11697:38;;;;;;;:::o","linkReferences":{}},"methodIdentifiers":{"PRECISION()":"aaf5eb68","closePosition(uint256,int256,uint256,uint256)":"623309b7","collateralToken()":"b2016bd4","depositCollateral(uint256,uint256)":"ece13732","getPositionWithPnL(address,uint256)":"db48fa36","ledger()":"56397c35","lpPool()":"3737bcb4","openPosition(uint256,int256,uint256,uint256,uint256)":"de366d11","owner()":"8da5cb5b","previewTrade(uint256,int256,uint256)":"0cd57818","priceEngine()":"8313e054","riskEngine()":"92b888ae","setEngines(address,address,address)":"6971c967","setLPPool(address)":"ece153b6","transferOwnership(address)":"f2fde38b","withdrawCollateral(uint256,uint256)":"767a7b05"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ledger\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_priceEngine\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_riskEngine\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InsufficientMargin\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidSize\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrantCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StalePrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Unauthorized\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"CollateralDeposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"CollateralWithdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"size\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"realizedPnL\",\"type\":\"int256\"}],\"name\":\"PositionClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"size\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"PositionOpened\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"sizeDelta\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"minPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPrice\",\"type\":\"uint256\"}],\"name\":\"closePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"collateralToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"depositCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"}],\"name\":\"getPositionWithPnL\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"size\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastFundingIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastBorrowIndex\",\"type\":\"uint256\"}],\"internalType\":\"struct IPositionLedger.Position\",\"name\":\"position\",\"type\":\"tuple\"},{\"internalType\":\"int256\",\"name\":\"unrealizedPnL\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"currentPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLiquidatable\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ledger\",\"outputs\":[{\"internalType\":\"contract IPositionLedger\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lpPool\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"sizeDelta\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minPrice\",\"type\":\"uint256\"}],\"name\":\"openPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"sizeDelta\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"previewTrade\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"requiredMargin\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxLeverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"marginOk\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceEngine\",\"outputs\":[{\"internalType\":\"contract IPriceEngine\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"riskEngine\",\"outputs\":[{\"internalType\":\"contract IRiskEngine\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ledger\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_priceEngine\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_riskEngine\",\"type\":\"address\"}],\"name\":\"setEngines\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_lpPool\",\"type\":\"address\"}],\"name\":\"setLPPool\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"closePosition(uint256,int256,uint256,uint256)\":{\"params\":{\"marketId\":\"Market ID\",\"maxPrice\":\"Maximum price for closing shorts\",\"minPrice\":\"Minimum price for closing longs\",\"sizeDelta\":\"Size to close (opposite sign of position)\"}},\"depositCollateral(uint256,uint256)\":{\"params\":{\"amount\":\"Amount to add\",\"marketId\":\"Market ID\"}},\"openPosition(uint256,int256,uint256,uint256,uint256)\":{\"params\":{\"collateralAmount\":\"Collateral to deposit (in USDC)\",\"marketId\":\"Market to trade\",\"maxPrice\":\"Maximum execution price (slippage protection for longs)\",\"minPrice\":\"Minimum execution price (slippage protection for shorts)\",\"sizeDelta\":\"Position size change (positive = long, negative = short)\"}},\"withdrawCollateral(uint256,uint256)\":{\"params\":{\"amount\":\"Amount to withdraw\",\"marketId\":\"Market ID\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"closePosition(uint256,int256,uint256,uint256)\":{\"notice\":\"Close or reduce a position\"},\"depositCollateral(uint256,uint256)\":{\"notice\":\"Add collateral to an existing position\"},\"getPositionWithPnL(address,uint256)\":{\"notice\":\"Get position details with current PnL\"},\"openPosition(uint256,int256,uint256,uint256,uint256)\":{\"notice\":\"Open or increase a position\"},\"previewTrade(uint256,int256,uint256)\":{\"notice\":\"Preview a trade execution\"},\"withdrawCollateral(uint256,uint256)\":{\"notice\":\"Remove collateral from a position\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/Router.sol\":\"Router\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"],\"viaIR\":true},\"sources\":{\"src/Router.sol\":{\"keccak256\":\"0x5ea4a963e4b905c7709daa977e5855a9c3a35d66150208a0978470026a95c8f1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e077a28b7378c043a9de911cb5d6a110c9c9067a0a3b3c04fa619212aacab2b3\",\"dweb:/ipfs/QmTVfRJwK3pd3NnSohubZjcWimR7LzHECXT7PHCMUCoe2h\"]},\"src/interfaces/IERC20.sol\":{\"keccak256\":\"0x88f39e00eb8be2dbda2c7f569c79e7e9a833c75de9f848bd568319c197d59c63\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ff81bc98b716814319bd219227c0800fa8bfa49dbce9b6d476d3bf7561bc6500\",\"dweb:/ipfs/QmPuXndauWg7WogLthCyXEyqQEjH4bgjA7GFejV2DjcFNM\"]},\"src/interfaces/IPositionLedger.sol\":{\"keccak256\":\"0x24384fd14f706615430e617695cb757b52471129c1c1635aae8be976da37e12e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8c3478b876621f0d9ac40b7aa3883ef00272b674c0b18b38628c17250ba77706\",\"dweb:/ipfs/QmTu11WwEFAAMntD2KvygSmdk7o56BypsrqxiCsAUFf9gz\"]},\"src/interfaces/IPriceEngine.sol\":{\"keccak256\":\"0x27544b20ae5e9916456561d8478b1ccffe1be334dba9cf94f108c103cb618a04\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8290d46925b6198b7e80b9e9489054c07ea9d92aa32522c0811fcf76b9d14eac\",\"dweb:/ipfs/QmdKt2NXb1cjJjX36DBUc6BMpxsmgnrYVN59Nn6aRntNcY\"]},\"src/interfaces/IRiskEngine.sol\":{\"keccak256\":\"0x07f53fe738d2be963107024d6136a348f1172a07d167034352ae2ea7ffb0ec00\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ef556ab3f08dc6a17833f58edb6f5b90efbcb24f8b1a088a632c3fb463978e81\",\"dweb:/ipfs/QmPMSjdcnSVTzhq7eRLKasPFeY2XPCMF3yfdNewb4Jba6C\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_ledger","type":"address"},{"internalType":"address","name":"_priceEngine","type":"address"},{"internalType":"address","name":"_riskEngine","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InsufficientMargin"},{"inputs":[],"type":"error","name":"InvalidSize"},{"inputs":[],"type":"error","name":"ReentrantCall"},{"inputs":[],"type":"error","name":"StalePrice"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[],"type":"error","name":"Unauthorized"},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"CollateralDeposited","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"CollateralWithdrawn","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"int256","name":"size","type":"int256","indexed":false},{"internalType":"uint256","name":"executionPrice","type":"uint256","indexed":false},{"internalType":"int256","name":"realizedPnL","type":"int256","indexed":false}],"type":"event","name":"PositionClosed","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"int256","name":"size","type":"int256","indexed":false},{"internalType":"uint256","name":"executionPrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false},{"internalType":"uint256","name":"fee","type":"uint256","indexed":false}],"type":"event","name":"PositionOpened","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"sizeDelta","type":"int256"},{"internalType":"uint256","name":"minPrice","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"closePosition"},{"inputs":[],"stateMutability":"view","type":"function","name":"collateralToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"depositCollateral"},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"marketId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getPositionWithPnL","outputs":[{"internalType":"struct IPositionLedger.Position","name":"position","type":"tuple","components":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"size","type":"int256"},{"internalType":"uint256","name":"entryPrice","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"openTimestamp","type":"uint256"},{"internalType":"uint256","name":"lastFundingIndex","type":"uint256"},{"internalType":"uint256","name":"lastBorrowIndex","type":"uint256"}]},{"internalType":"int256","name":"unrealizedPnL","type":"int256"},{"internalType":"uint256","name":"currentPrice","type":"uint256"},{"internalType":"bool","name":"isLiquidatable","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"ledger","outputs":[{"internalType":"contract IPositionLedger","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"lpPool","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"sizeDelta","type":"int256"},{"internalType":"uint256","name":"collateralAmount","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"},{"internalType":"uint256","name":"minPrice","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"openPosition"},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"sizeDelta","type":"int256"},{"internalType":"uint256","name":"collateral","type":"uint256"}],"stateMutability":"view","type":"function","name":"previewTrade","outputs":[{"internalType":"uint256","name":"executionPrice","type":"uint256"},{"internalType":"uint256","name":"requiredMargin","type":"uint256"},{"internalType":"uint256","name":"maxLeverage","type":"uint256"},{"internalType":"bool","name":"marginOk","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"priceEngine","outputs":[{"internalType":"contract IPriceEngine","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"riskEngine","outputs":[{"internalType":"contract IRiskEngine","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_ledger","type":"address"},{"internalType":"address","name":"_priceEngine","type":"address"},{"internalType":"address","name":"_riskEngine","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setEngines"},{"inputs":[{"internalType":"address","name":"_lpPool","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setLPPool"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"withdrawCollateral"}],"devdoc":{"kind":"dev","methods":{"closePosition(uint256,int256,uint256,uint256)":{"params":{"marketId":"Market ID","maxPrice":"Maximum price for closing shorts","minPrice":"Minimum price for closing longs","sizeDelta":"Size to close (opposite sign of position)"}},"depositCollateral(uint256,uint256)":{"params":{"amount":"Amount to add","marketId":"Market ID"}},"openPosition(uint256,int256,uint256,uint256,uint256)":{"params":{"collateralAmount":"Collateral to deposit (in USDC)","marketId":"Market to trade","maxPrice":"Maximum execution price (slippage protection for longs)","minPrice":"Minimum execution price (slippage protection for shorts)","sizeDelta":"Position size change (positive = long, negative = short)"}},"withdrawCollateral(uint256,uint256)":{"params":{"amount":"Amount to withdraw","marketId":"Market ID"}}},"version":1},"userdoc":{"kind":"user","methods":{"closePosition(uint256,int256,uint256,uint256)":{"notice":"Close or reduce a position"},"depositCollateral(uint256,uint256)":{"notice":"Add collateral to an existing position"},"getPositionWithPnL(address,uint256)":{"notice":"Get position details with current PnL"},"openPosition(uint256,int256,uint256,uint256,uint256)":{"notice":"Open or increase a position"},"previewTrade(uint256,int256,uint256)":{"notice":"Preview a trade execution"},"withdrawCollateral(uint256,uint256)":{"notice":"Remove collateral from a position"}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/Router.sol":"Router"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"src/Router.sol":{"keccak256":"0x5ea4a963e4b905c7709daa977e5855a9c3a35d66150208a0978470026a95c8f1","urls":["bzz-raw://e077a28b7378c043a9de911cb5d6a110c9c9067a0a3b3c04fa619212aacab2b3","dweb:/ipfs/QmTVfRJwK3pd3NnSohubZjcWimR7LzHECXT7PHCMUCoe2h"],"license":"MIT"},"src/interfaces/IERC20.sol":{"keccak256":"0x88f39e00eb8be2dbda2c7f569c79e7e9a833c75de9f848bd568319c197d59c63","urls":["bzz-raw://ff81bc98b716814319bd219227c0800fa8bfa49dbce9b6d476d3bf7561bc6500","dweb:/ipfs/QmPuXndauWg7WogLthCyXEyqQEjH4bgjA7GFejV2DjcFNM"],"license":"MIT"},"src/interfaces/IPositionLedger.sol":{"keccak256":"0x24384fd14f706615430e617695cb757b52471129c1c1635aae8be976da37e12e","urls":["bzz-raw://8c3478b876621f0d9ac40b7aa3883ef00272b674c0b18b38628c17250ba77706","dweb:/ipfs/QmTu11WwEFAAMntD2KvygSmdk7o56BypsrqxiCsAUFf9gz"],"license":"MIT"},"src/interfaces/IPriceEngine.sol":{"keccak256":"0x27544b20ae5e9916456561d8478b1ccffe1be334dba9cf94f108c103cb618a04","urls":["bzz-raw://8290d46925b6198b7e80b9e9489054c07ea9d92aa32522c0811fcf76b9d14eac","dweb:/ipfs/QmdKt2NXb1cjJjX36DBUc6BMpxsmgnrYVN59Nn6aRntNcY"],"license":"MIT"},"src/interfaces/IRiskEngine.sol":{"keccak256":"0x07f53fe738d2be963107024d6136a348f1172a07d167034352ae2ea7ffb0ec00","urls":["bzz-raw://ef556ab3f08dc6a17833f58edb6f5b90efbcb24f8b1a088a632c3fb463978e81","dweb:/ipfs/QmPMSjdcnSVTzhq7eRLKasPFeY2XPCMF3yfdNewb4Jba6C"],"license":"MIT"}},"version":1},"id":38}