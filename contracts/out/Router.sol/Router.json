{"abi":[{"type":"constructor","inputs":[{"name":"_ledger","type":"address","internalType":"address"},{"name":"_priceEngine","type":"address","internalType":"address"},{"name":"_riskEngine","type":"address","internalType":"address"},{"name":"_collateralToken","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"closePosition","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"int256","internalType":"int256"},{"name":"minPrice","type":"uint256","internalType":"uint256"},{"name":"maxPrice","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"collateralToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"depositCollateral","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getPositionWithPnL","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"marketId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"position","type":"tuple","internalType":"struct IPositionLedger.Position","components":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"size","type":"int256","internalType":"int256"},{"name":"entryPrice","type":"uint256","internalType":"uint256"},{"name":"collateral","type":"uint256","internalType":"uint256"},{"name":"openTimestamp","type":"uint256","internalType":"uint256"},{"name":"lastFundingIndex","type":"uint256","internalType":"uint256"},{"name":"lastBorrowIndex","type":"uint256","internalType":"uint256"}]},{"name":"unrealizedPnL","type":"int256","internalType":"int256"},{"name":"currentPrice","type":"uint256","internalType":"uint256"},{"name":"isLiquidatable","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"ledger","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPositionLedger"}],"stateMutability":"view"},{"type":"function","name":"openPosition","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"int256","internalType":"int256"},{"name":"collateralAmount","type":"uint256","internalType":"uint256"},{"name":"maxPrice","type":"uint256","internalType":"uint256"},{"name":"minPrice","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"previewTrade","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"int256","internalType":"int256"},{"name":"collateral","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"executionPrice","type":"uint256","internalType":"uint256"},{"name":"requiredMargin","type":"uint256","internalType":"uint256"},{"name":"maxLeverage","type":"uint256","internalType":"uint256"},{"name":"marginOk","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"priceEngine","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPriceEngine"}],"stateMutability":"view"},{"type":"function","name":"riskEngine","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IRiskEngine"}],"stateMutability":"view"},{"type":"function","name":"setEngines","inputs":[{"name":"_ledger","type":"address","internalType":"address"},{"name":"_priceEngine","type":"address","internalType":"address"},{"name":"_riskEngine","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawCollateral","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"CollateralDeposited","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"CollateralWithdrawn","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionClosed","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"size","type":"int256","indexed":false,"internalType":"int256"},{"name":"executionPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"realizedPnL","type":"int256","indexed":false,"internalType":"int256"}],"anonymous":false},{"type":"event","name":"PositionOpened","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"size","type":"int256","indexed":false,"internalType":"int256"},{"name":"executionPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"fee","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"InsufficientMargin","inputs":[]},{"type":"error","name":"InvalidSize","inputs":[]},{"type":"error","name":"ReentrantCall","inputs":[]},{"type":"error","name":"StalePrice","inputs":[]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"Unauthorized","inputs":[]}],"bytecode":{"object":"0x608034620000d357601f620018a238819003918201601f19168301916001600160401b03831184841017620000d757808492608094604052833981010312620000d3576200004d81620000eb565b6200005b60208301620000eb565b906200007860606200007060408601620000eb565b9401620000eb565b9060018060a01b03199333855f5416175f5560018060a01b0380948180941687600154161760015516856002541617600255168360035416176003551690600454161760045560016005556040516117a19081620001018239f35b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b0382168203620000d35756fe60806040818152600480361015610014575f80fd5b5f9260e08435811c9182630cd57818146113eb5750816356397c35146113c1578163623309b714610ef55781636971c96714610e47578163767a7b0514610b265781638313e05414610afc5781638da5cb5b14610ad357816392b888ae14610aa9578163aaf5eb6814610a81578163b2016bd414610a59578163db48fa3614610760578163de366d11146102a657508063ece13732146101135763f2fde38b146100bc575f80fd5b3461010f57602036600319011261010f576100d5611633565b83546001600160a01b03939192919084163303610103575050166001600160601b0360a01b5f5416175f5580f35b516282b42960e81b8152fd5b8280fd5b50903461010f5761012336611649565b919092600260055414610298576002600555821561028a57805482516323b872dd60e01b81523381840190815230602082810191909152604082018790526001600160a01b03939091839185169082908b90829060600103925af1908115610280578791610243575b50156102345790859160015416803b1561010f578351636a4e5a1d60e11b8152339281019283526020830187905260408301869052918391839182908490829060600103925af1801561022a57610212575b5050519081527ff4d587c98d234ca4d147061e6b5167e7f41ee17f11562a9f0b49570abece859e60203392a3600160055580f35b61021b9061165f565b61022657835f6101de565b8380fd5b83513d84823e3d90fd5b5090516312171d8360e31b8152fd5b90506020813d8211610278575b8161025d602093836116a3565b810103126102745761026e906116c5565b5f61018c565b8680fd5b3d9150610250565b84513d89823e3d90fd5b9051630ffd11ad60e01b8152fd5b90516306fda65d60e31b8152fd5b919050346102265760a03660031901126102265780359260249182359360443593600260055414610750576002600555851561074057600254845163cc30bb0560e01b8152808501899052603c838201526001600160a01b039182169460209490929185816044818a5afa9081156105f5578c9161070b575b506106fb57848a604489518099819363a0e3605760e01b8352888301528d898301525afa95861561059e578b966106c8575b508a8913806106bd575b6106a2578a8912806106b2575b6106a257876105ff575b6001548751633adbb5af60e01b815233858201908152602081018d90529091839183918616908290819060400103915afa9182156105f5578c926105c8575b50506060810151908882018092116105b657858c959493926103d78c838b95015161172c565b8781126105a8575b806104ed575b505050508060035416803b156104e957848091858d8b519485938492630e0dc17560e41b8452898401525af180156104df579085916104cb575b50506001541691823b156102265760a48492838c958a51968795869463d52019e360e01b865233908601528401528c60448401528960648401528b60848401525af180156104c1576104ad575b505082519485528401528201528260608201527f382baede3e50dbafb05c08ffdcde2d7ed04fd153cbd8f6c79788b3a9901566bb60803392a3600160055580f35b6104b69061165f565b61027457865f61046c565b85513d84823e3d90fd5b6104d49061165f565b61022657835f61041f565b88513d87823e3d90fd5b8480fd5b90919293809596975060035416908d6105318c5196879586948594630c86db9560e31b86528c86019094939260609260808301968352602083015260408201520152565b03915afa90811561059e578b91610565575b5015610556579089929185855f806103e5565b5084516341c092a960e01b8152fd5b90508481813d8311610597575b61057c81836116a3565b810103126105935761058d906116c5565b5f610543565b8a80fd5b503d610572565b87513d8d823e3d90fd5b6105b19061175b565b6103df565b634e487b7160e01b8c5260118452848cfd5b6105e79250803d106105ee575b6105df81836116a3565b8101906116d2565b5f806103b1565b503d6105d5565b88513d8e823e3d90fd5b8a85610642848654168b8b519485809481936323b872dd60e01b835230338d850160409194939294606082019560018060a01b0380921683521660208201520152565b03925af19081156105f5578c91610669575b506103725786516312171d8360e31b81528390fd5b90508581813d831161069b575b61068081836116a3565b8101031261069757610691906116c5565b5f610654565b8b80fd5b503d610676565b86516341c092a960e01b81528390fd5b506084358610610368565b50606435861161035b565b9095508481813d83116106f4575b6106e081836116a3565b810103126106f05751945f610351565b5f80fd5b503d6106d6565b8651630cd5fa0760e11b81528390fd5b90508581813d8311610739575b61072281836116a3565b8101031261069757610733906116c5565b5f61031f565b503d610718565b8351630ffd11ad60e01b81528390fd5b83516306fda65d60e31b81528390fd5b92905034610226578060031936011261022657926107fa9293610781611633565b9460243591805161079181611687565b8481528460c0602092828482015282858201528260608201528260808201528260a0820152015284938560018060a01b039182600154169886828d88519d8e928392633adbb5af60e01b845286840160209093929193604081019460018060a01b031681520152565b03818d5afa9a8b15610a4f57839b610a2b575b50602498999a9b85856002541688519b8c8092635af3d06160e01b825287878301525afa998a15610a2157849a6109f2575b50858d019b8c516108a5575b50505050505096816101409860c093519883518a5251908901528082015190880152606081015160608801526080810151608088015260a081015160a0880152015160c08601528401526101008301521515610120820152f35b87516302986a7560e41b81526001600160a01b03831681850190815260208101869052604081018d9052979c5095995093959294919390928b9183918290819060600103915afa9081156109e857918693918a959387916109b4575b506003548551633aa8cf8560e21b81526001600160a01b03909316938301938452602084019490945260408301959095529397849216908290819060600103915afa9182156109a9578092610964575b50909590508161014060c05f808061084b565b9091508282813d83116109a2575b61097c81836116a3565b8101031261099f57509660c091610995610140996116c5565b9198819350610951565b80fd5b503d610972565b8351903d90823e3d90fd5b94505093508983813d83116109e1575b6109ce81836116a3565b810103126106f05788938693515f610901565b503d6109c4565b86513d87823e3d90fd5b9099508581813d8311610a1a575b610a0a81836116a3565b810103126106f05751985f61083f565b503d610a00565b87513d86823e3d90fd5b6024999a9b50610a4790883d8a116105ee576105df81836116a3565b9a999861080d565b86513d85823e3d90fd5b50503461010f578260031936011261010f575490516001600160a01b03909116815260209150f35b50505034610aa55781600319360112610aa55760209051670de0b6b3a76400008152f35b5080fd5b50505034610aa55781600319360112610aa55760035490516001600160a01b039091168152602090f35b50505034610aa55781600319360112610aa557905490516001600160a01b039091168152602090f35b50505034610aa55781600319360112610aa55760025490516001600160a01b039091168152602090f35b849391503461022657610b3836611649565b929093600260055414610298576002600555831561028a576001548251633adbb5af60e01b815233838201908152602081018890526001600160a01b03928992908416918790829081906040010381855afa968715610a4f578397610e28575b5050602095868101908151610cd4575b5050610bb38761175b565b90803b1561010f578551636a4e5a1d60e11b815233868201908152602081018b90526040810193909352918391839182908490829060600103925af180156104c157610cc0575b50508154835163a9059cbb60e01b815233818501908152602081018890529092869284928390036040019183918c91165af1908115610cb6578791610c81575b5015610c735750907fdaed309a628faec6cab72194019e2a1a34e890ca9bf9be99788992dd5469281991519283523392a3600160055580f35b90516312171d8360e31b8152fd5b90508381813d8311610caf575b610c9881836116a3565b8101031261027457610ca9906116c5565b87610c3a565b503d610c8e565b83513d89823e3d90fd5b610cc99061165f565b610274578688610bfa565b6060919293500151878103908111610e1557836002541691878a6024895180968193635af3d06160e01b83528b8301525afa92831561059e57908892918c94610de4575b5080518c8112610dd55750515b8560035416908b610d618a5196879586948594630c86db9560e31b86528d86019094939260609260808301968352602083015260408201520152565b03915afa908115610dcb578991610d92575b5015610d825787908980610ba8565b83516341c092a960e01b81528390fd5b90508581813d8311610dc4575b610da981836116a3565b81010312610dc057610dba906116c5565b89610d73565b8880fd5b503d610d9f565b85513d8b823e3d90fd5b610ddf915061175b565b610d25565b8381949295503d8311610e0e575b610dfc81836116a3565b810103126106f057879151928c610d18565b503d610df2565b634e487b7160e01b8a526011855260248afd5b610e3f929750803d106105ee576105df81836116a3565b948980610b98565b50503461010f57606036600319011261010f57610e62611633565b6024356001600160a01b03818116939092918490036106f057604435948386168096036106f0578387541633036101035750501680610edc575b5080610ec3575b5080610ead575080f35b6001600160601b0360a01b600354161760035580f35b6001600160601b0360a01b60025416176002555f610ea3565b6001600160601b0360a01b60015416176001555f610e9c565b848484923461010f57608036600319011261010f57833591602435916002600554146113b15760026005556001548251633adbb5af60e01b80825233828a01908152602081018890526001600160a01b039384169991949391929084908290819060400103818d5afa9081156113a757899161138a575b506020938482019586511561137a57836002541696885163cc30bb0560e01b81528b87820152603c602482015287816044818c5afa908115611370578d91611337575b5061132757868a60448d8c519b8c93849263a0e3605760e01b84528c84015260248301525afa97881561131d578c986112ee575b508b815113806112e3575b6112d3578b905112806112c8575b6112b85787516302986a7560e41b815233868201908152602081018c9052604081018990529b9c9a9b999a909987918b918290819060600103915afa9889156105f5578c99611289575b508b8460035416803b15610aa557819060248e8c519485938492630e0dc17560e41b84528c8401525af1801561127f57611266575b50908392918c9460015416803b1561126257858d60a4898f9484908f8f9051978896879563d52019e360e01b875233908701526024860152604485015260648401528160848401525af18015611258578684928f9261123e575b50506001548b51938452338985019081526020810192909252839182900360400190829088165afa91821561123457879493928b9286928892611217575b50500151158061120a575b611162575b50505050505082519485528401528201527fef57cfe941e18e7c3ca4c3140496c9fff61fba7c7e287dc070a6edc239864a0760603392a3600160055580f35b606061116f92015161172c565b83811361117d575b88611123565b8454885163a9059cbb60e01b815233818801908152602081019390935294859392849003604001928492165af1908115610dcb5789916111d5575b50156111c75787828280611177565b83516312171d8360e31b8152fd5b90508281813d8311611203575b6111ec81836116a3565b81010312610dc0576111fd906116c5565b896111b8565b503d6111e2565b506060820151151561111e565b61122d9250803d106105ee576105df81836116a3565b8f80611113565b89513d87823e3d90fd5b90925061124b915061165f565b6104e957818c865f6110d5565b8a513d88823e3d90fd5b8580fd5b611275909c919493929c61165f565b9a9091928c61107b565b89513d8f823e3d90fd5b9098508581813d83116112b1575b6112a181836116a3565b810103126106975751978c611046565b503d611297565b87516341c092a960e01b81528590fd5b506064358711610ffc565b88516341c092a960e01b81528690fd5b506044358810610fee565b9097508681813d8311611316575b61130681836116a3565b810103126106975751968d610fe3565b503d6112fc565b89513d8e823e3d90fd5b8851630cd5fa0760e11b81528690fd5b90508781813d8311611369575b61134e81836116a3565b810103126113655761135f906116c5565b8e610faf565b8c80fd5b503d611344565b8a513d8f823e3d90fd5b8751630ffd11ad60e01b81528590fd5b6113a19150843d86116105ee576105df81836116a3565b8a610f6c565b86513d8b823e3d90fd5b81516306fda65d60e31b81528690fd5b50505034610aa55781600319360112610aa55760015490516001600160a01b039091168152602090f35b915050833461099f57606036600319011261099f5782359360243593836044359560018060a01b0390816002541663a0e3605760e01b8452898585015281602485015283604460209586935afa9687156116295786976115fa575b508581126115eb57905b60035416845198632e3a4fc160e11b8a52858a806114838b87868b85016040919493926060820195825260208201520152565b0381855afa9485156115e15787956115af575b8651636df4d3d960e11b8152818101838152602081018c9052604081018b90529a9b5098999798978590899081906060010381865afa9788156115a5578998611576575b508651630c86db9560e31b815290810191825260208201939093526040810199909952606089018890529097829189918290819060800103915afa9485156109a957809561153c575b5060809650825195865285015283015215156060820152f35b9080955087813d831161156f575b61155481836116a3565b8101031261099f57506115686080966116c5565b9387611523565b503d61154a565b9097508481813d831161159e575b61158e81836116a3565b81010312610dc0575196846114da565b503d611584565b87513d8b823e3d90fd5b9450858a813d83116115da575b6115c681836116a3565b810103126102745798519798899894611496565b503d6115bc565b86513d89823e3d90fd5b6115f49061175b565b90611450565b9096508281813d8311611622575b61161281836116a3565b8101031261126257519589611446565b503d611608565b85513d88823e3d90fd5b600435906001600160a01b03821682036106f057565b60409060031901126106f0576004359060243590565b67ffffffffffffffff811161167357604052565b634e487b7160e01b5f52604160045260245ffd5b60e0810190811067ffffffffffffffff82111761167357604052565b90601f8019910116810190811067ffffffffffffffff82111761167357604052565b519081151582036106f057565b908160e09103126106f05760c0604051916116ec83611687565b805183526020810151602084015260408101516040840152606081015160608401526080810151608084015260a081015160a0840152015160c082015290565b9190915f838201938412911290801582169115161761174757565b634e487b7160e01b5f52601160045260245ffd5b600160ff1b8114611747575f039056fea2646970667358221220fcbf5d9c8a7584d442c0f2e97c9c0a2898c4f10bda424fc789fcbc130809f13164736f6c63430008140033","sourceMap":"669:10811:25:-:0;;;;;;;;;;;;;-1:-1:-1;;669:10811:25;;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;;:::i;:::-;;;;;;;;2485:10;;669:10811;-1:-1:-1;669:10811:25;;;-1:-1:-1;669:10811:25;;;;;;;;;;;;;;;;;;;;;2548:40;669:10811;;;2548:40;669:10811;;;2598:37;669:10811;;;2598:37;669:10811;;;2645:42;669:10811;;;2645:42;669:10811;;2697:21;976:1;669:10811;;;;;;;;;;-1:-1:-1;669:10811:25;;;;;;-1:-1:-1;669:10811:25;;;;;-1:-1:-1;669:10811:25;;;;-1:-1:-1;;;;;669:10811:25;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x60806040818152600480361015610014575f80fd5b5f9260e08435811c9182630cd57818146113eb5750816356397c35146113c1578163623309b714610ef55781636971c96714610e47578163767a7b0514610b265781638313e05414610afc5781638da5cb5b14610ad357816392b888ae14610aa9578163aaf5eb6814610a81578163b2016bd414610a59578163db48fa3614610760578163de366d11146102a657508063ece13732146101135763f2fde38b146100bc575f80fd5b3461010f57602036600319011261010f576100d5611633565b83546001600160a01b03939192919084163303610103575050166001600160601b0360a01b5f5416175f5580f35b516282b42960e81b8152fd5b8280fd5b50903461010f5761012336611649565b919092600260055414610298576002600555821561028a57805482516323b872dd60e01b81523381840190815230602082810191909152604082018790526001600160a01b03939091839185169082908b90829060600103925af1908115610280578791610243575b50156102345790859160015416803b1561010f578351636a4e5a1d60e11b8152339281019283526020830187905260408301869052918391839182908490829060600103925af1801561022a57610212575b5050519081527ff4d587c98d234ca4d147061e6b5167e7f41ee17f11562a9f0b49570abece859e60203392a3600160055580f35b61021b9061165f565b61022657835f6101de565b8380fd5b83513d84823e3d90fd5b5090516312171d8360e31b8152fd5b90506020813d8211610278575b8161025d602093836116a3565b810103126102745761026e906116c5565b5f61018c565b8680fd5b3d9150610250565b84513d89823e3d90fd5b9051630ffd11ad60e01b8152fd5b90516306fda65d60e31b8152fd5b919050346102265760a03660031901126102265780359260249182359360443593600260055414610750576002600555851561074057600254845163cc30bb0560e01b8152808501899052603c838201526001600160a01b039182169460209490929185816044818a5afa9081156105f5578c9161070b575b506106fb57848a604489518099819363a0e3605760e01b8352888301528d898301525afa95861561059e578b966106c8575b508a8913806106bd575b6106a2578a8912806106b2575b6106a257876105ff575b6001548751633adbb5af60e01b815233858201908152602081018d90529091839183918616908290819060400103915afa9182156105f5578c926105c8575b50506060810151908882018092116105b657858c959493926103d78c838b95015161172c565b8781126105a8575b806104ed575b505050508060035416803b156104e957848091858d8b519485938492630e0dc17560e41b8452898401525af180156104df579085916104cb575b50506001541691823b156102265760a48492838c958a51968795869463d52019e360e01b865233908601528401528c60448401528960648401528b60848401525af180156104c1576104ad575b505082519485528401528201528260608201527f382baede3e50dbafb05c08ffdcde2d7ed04fd153cbd8f6c79788b3a9901566bb60803392a3600160055580f35b6104b69061165f565b61027457865f61046c565b85513d84823e3d90fd5b6104d49061165f565b61022657835f61041f565b88513d87823e3d90fd5b8480fd5b90919293809596975060035416908d6105318c5196879586948594630c86db9560e31b86528c86019094939260609260808301968352602083015260408201520152565b03915afa90811561059e578b91610565575b5015610556579089929185855f806103e5565b5084516341c092a960e01b8152fd5b90508481813d8311610597575b61057c81836116a3565b810103126105935761058d906116c5565b5f610543565b8a80fd5b503d610572565b87513d8d823e3d90fd5b6105b19061175b565b6103df565b634e487b7160e01b8c5260118452848cfd5b6105e79250803d106105ee575b6105df81836116a3565b8101906116d2565b5f806103b1565b503d6105d5565b88513d8e823e3d90fd5b8a85610642848654168b8b519485809481936323b872dd60e01b835230338d850160409194939294606082019560018060a01b0380921683521660208201520152565b03925af19081156105f5578c91610669575b506103725786516312171d8360e31b81528390fd5b90508581813d831161069b575b61068081836116a3565b8101031261069757610691906116c5565b5f610654565b8b80fd5b503d610676565b86516341c092a960e01b81528390fd5b506084358610610368565b50606435861161035b565b9095508481813d83116106f4575b6106e081836116a3565b810103126106f05751945f610351565b5f80fd5b503d6106d6565b8651630cd5fa0760e11b81528390fd5b90508581813d8311610739575b61072281836116a3565b8101031261069757610733906116c5565b5f61031f565b503d610718565b8351630ffd11ad60e01b81528390fd5b83516306fda65d60e31b81528390fd5b92905034610226578060031936011261022657926107fa9293610781611633565b9460243591805161079181611687565b8481528460c0602092828482015282858201528260608201528260808201528260a0820152015284938560018060a01b039182600154169886828d88519d8e928392633adbb5af60e01b845286840160209093929193604081019460018060a01b031681520152565b03818d5afa9a8b15610a4f57839b610a2b575b50602498999a9b85856002541688519b8c8092635af3d06160e01b825287878301525afa998a15610a2157849a6109f2575b50858d019b8c516108a5575b50505050505096816101409860c093519883518a5251908901528082015190880152606081015160608801526080810151608088015260a081015160a0880152015160c08601528401526101008301521515610120820152f35b87516302986a7560e41b81526001600160a01b03831681850190815260208101869052604081018d9052979c5095995093959294919390928b9183918290819060600103915afa9081156109e857918693918a959387916109b4575b506003548551633aa8cf8560e21b81526001600160a01b03909316938301938452602084019490945260408301959095529397849216908290819060600103915afa9182156109a9578092610964575b50909590508161014060c05f808061084b565b9091508282813d83116109a2575b61097c81836116a3565b8101031261099f57509660c091610995610140996116c5565b9198819350610951565b80fd5b503d610972565b8351903d90823e3d90fd5b94505093508983813d83116109e1575b6109ce81836116a3565b810103126106f05788938693515f610901565b503d6109c4565b86513d87823e3d90fd5b9099508581813d8311610a1a575b610a0a81836116a3565b810103126106f05751985f61083f565b503d610a00565b87513d86823e3d90fd5b6024999a9b50610a4790883d8a116105ee576105df81836116a3565b9a999861080d565b86513d85823e3d90fd5b50503461010f578260031936011261010f575490516001600160a01b03909116815260209150f35b50505034610aa55781600319360112610aa55760209051670de0b6b3a76400008152f35b5080fd5b50505034610aa55781600319360112610aa55760035490516001600160a01b039091168152602090f35b50505034610aa55781600319360112610aa557905490516001600160a01b039091168152602090f35b50505034610aa55781600319360112610aa55760025490516001600160a01b039091168152602090f35b849391503461022657610b3836611649565b929093600260055414610298576002600555831561028a576001548251633adbb5af60e01b815233838201908152602081018890526001600160a01b03928992908416918790829081906040010381855afa968715610a4f578397610e28575b5050602095868101908151610cd4575b5050610bb38761175b565b90803b1561010f578551636a4e5a1d60e11b815233868201908152602081018b90526040810193909352918391839182908490829060600103925af180156104c157610cc0575b50508154835163a9059cbb60e01b815233818501908152602081018890529092869284928390036040019183918c91165af1908115610cb6578791610c81575b5015610c735750907fdaed309a628faec6cab72194019e2a1a34e890ca9bf9be99788992dd5469281991519283523392a3600160055580f35b90516312171d8360e31b8152fd5b90508381813d8311610caf575b610c9881836116a3565b8101031261027457610ca9906116c5565b87610c3a565b503d610c8e565b83513d89823e3d90fd5b610cc99061165f565b610274578688610bfa565b6060919293500151878103908111610e1557836002541691878a6024895180968193635af3d06160e01b83528b8301525afa92831561059e57908892918c94610de4575b5080518c8112610dd55750515b8560035416908b610d618a5196879586948594630c86db9560e31b86528d86019094939260609260808301968352602083015260408201520152565b03915afa908115610dcb578991610d92575b5015610d825787908980610ba8565b83516341c092a960e01b81528390fd5b90508581813d8311610dc4575b610da981836116a3565b81010312610dc057610dba906116c5565b89610d73565b8880fd5b503d610d9f565b85513d8b823e3d90fd5b610ddf915061175b565b610d25565b8381949295503d8311610e0e575b610dfc81836116a3565b810103126106f057879151928c610d18565b503d610df2565b634e487b7160e01b8a526011855260248afd5b610e3f929750803d106105ee576105df81836116a3565b948980610b98565b50503461010f57606036600319011261010f57610e62611633565b6024356001600160a01b03818116939092918490036106f057604435948386168096036106f0578387541633036101035750501680610edc575b5080610ec3575b5080610ead575080f35b6001600160601b0360a01b600354161760035580f35b6001600160601b0360a01b60025416176002555f610ea3565b6001600160601b0360a01b60015416176001555f610e9c565b848484923461010f57608036600319011261010f57833591602435916002600554146113b15760026005556001548251633adbb5af60e01b80825233828a01908152602081018890526001600160a01b039384169991949391929084908290819060400103818d5afa9081156113a757899161138a575b506020938482019586511561137a57836002541696885163cc30bb0560e01b81528b87820152603c602482015287816044818c5afa908115611370578d91611337575b5061132757868a60448d8c519b8c93849263a0e3605760e01b84528c84015260248301525afa97881561131d578c986112ee575b508b815113806112e3575b6112d3578b905112806112c8575b6112b85787516302986a7560e41b815233868201908152602081018c9052604081018990529b9c9a9b999a909987918b918290819060600103915afa9889156105f5578c99611289575b508b8460035416803b15610aa557819060248e8c519485938492630e0dc17560e41b84528c8401525af1801561127f57611266575b50908392918c9460015416803b1561126257858d60a4898f9484908f8f9051978896879563d52019e360e01b875233908701526024860152604485015260648401528160848401525af18015611258578684928f9261123e575b50506001548b51938452338985019081526020810192909252839182900360400190829088165afa91821561123457879493928b9286928892611217575b50500151158061120a575b611162575b50505050505082519485528401528201527fef57cfe941e18e7c3ca4c3140496c9fff61fba7c7e287dc070a6edc239864a0760603392a3600160055580f35b606061116f92015161172c565b83811361117d575b88611123565b8454885163a9059cbb60e01b815233818801908152602081019390935294859392849003604001928492165af1908115610dcb5789916111d5575b50156111c75787828280611177565b83516312171d8360e31b8152fd5b90508281813d8311611203575b6111ec81836116a3565b81010312610dc0576111fd906116c5565b896111b8565b503d6111e2565b506060820151151561111e565b61122d9250803d106105ee576105df81836116a3565b8f80611113565b89513d87823e3d90fd5b90925061124b915061165f565b6104e957818c865f6110d5565b8a513d88823e3d90fd5b8580fd5b611275909c919493929c61165f565b9a9091928c61107b565b89513d8f823e3d90fd5b9098508581813d83116112b1575b6112a181836116a3565b810103126106975751978c611046565b503d611297565b87516341c092a960e01b81528590fd5b506064358711610ffc565b88516341c092a960e01b81528690fd5b506044358810610fee565b9097508681813d8311611316575b61130681836116a3565b810103126106975751968d610fe3565b503d6112fc565b89513d8e823e3d90fd5b8851630cd5fa0760e11b81528690fd5b90508781813d8311611369575b61134e81836116a3565b810103126113655761135f906116c5565b8e610faf565b8c80fd5b503d611344565b8a513d8f823e3d90fd5b8751630ffd11ad60e01b81528590fd5b6113a19150843d86116105ee576105df81836116a3565b8a610f6c565b86513d8b823e3d90fd5b81516306fda65d60e31b81528690fd5b50505034610aa55781600319360112610aa55760015490516001600160a01b039091168152602090f35b915050833461099f57606036600319011261099f5782359360243593836044359560018060a01b0390816002541663a0e3605760e01b8452898585015281602485015283604460209586935afa9687156116295786976115fa575b508581126115eb57905b60035416845198632e3a4fc160e11b8a52858a806114838b87868b85016040919493926060820195825260208201520152565b0381855afa9485156115e15787956115af575b8651636df4d3d960e11b8152818101838152602081018c9052604081018b90529a9b5098999798978590899081906060010381865afa9788156115a5578998611576575b508651630c86db9560e31b815290810191825260208201939093526040810199909952606089018890529097829189918290819060800103915afa9485156109a957809561153c575b5060809650825195865285015283015215156060820152f35b9080955087813d831161156f575b61155481836116a3565b8101031261099f57506115686080966116c5565b9387611523565b503d61154a565b9097508481813d831161159e575b61158e81836116a3565b81010312610dc0575196846114da565b503d611584565b87513d8b823e3d90fd5b9450858a813d83116115da575b6115c681836116a3565b810103126102745798519798899894611496565b503d6115bc565b86513d89823e3d90fd5b6115f49061175b565b90611450565b9096508281813d8311611622575b61161281836116a3565b8101031261126257519589611446565b503d611608565b85513d88823e3d90fd5b600435906001600160a01b03821682036106f057565b60409060031901126106f0576004359060243590565b67ffffffffffffffff811161167357604052565b634e487b7160e01b5f52604160045260245ffd5b60e0810190811067ffffffffffffffff82111761167357604052565b90601f8019910116810190811067ffffffffffffffff82111761167357604052565b519081151582036106f057565b908160e09103126106f05760c0604051916116ec83611687565b805183526020810151602084015260408101516040840152606081015160608401526080810151608084015260a081015160a0840152015160c082015290565b9190915f838201938412911290801582169115161761174757565b634e487b7160e01b5f52601160045260245ffd5b600160ff1b8114611747575f039056fea2646970667358221220fcbf5d9c8a7584d442c0f2e97c9c0a2898c4f10bda424fc789fcbc130809f13164736f6c63430008140033","sourceMap":"669:10811:25:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;669:10811:25;;;;;;:::i;:::-;;;-1:-1:-1;;;;;669:10811:25;;;;;;;2045:10;:19;2041:46;;669:10811;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;2041:46;669:10811;-1:-1:-1;;;2073:14:25;;;669:10811;;;;;;;;;;;;;:::i;:::-;;;;1018:1;2153:7;669:10811;2153:18;2149:46;;1018:1;2153:7;1018:1;8291:11;;8287:37;;669:10811;;;;-1:-1:-1;;;8378:63:25;;8407:10;8378:63;;;669:10811;;;8427:4;8378:63;669:10811;;;;;;;;;;;;;-1:-1:-1;;;;;669:10811:25;8378:63;;669:10811;;;;;;;8427:4;;669:10811;;;;8378:63;;;;;;;;;;;;;669:10811;8377:64;;8373:118;;669:10811;;;;;;8536:61;;;;;669:10811;;-1:-1:-1;;;8536:61:25;;8407:10;8536:61;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;;;8536:61;;;;;;;;;;669:10811;;;;;;;8621:49;8378:63;8407:10;8621:49;;669:10811;2153:7;1018:1;669:10811;;8536:61;;;;:::i;:::-;669:10811;;8536:61;;;;669:10811;;;;8536:61;669:10811;;;;;;;;;8373:118;-1:-1:-1;669:10811:25;;-1:-1:-1;;;8464:16:25;;;8378:63;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;:::i;:::-;8378:63;;;669:10811;;;;8378:63;;;-1:-1:-1;8378:63:25;;;669:10811;;;;;;;;;8287:37;669:10811;;-1:-1:-1;;;8311:13:25;;;2149:46;669:10811;;-1:-1:-1;;;2180:15:25;;;669:10811;;;;;;;;;-1:-1:-1;;669:10811:25;;;;;;;;;;;;;;;1018:1;2153:7;669:10811;2153:18;2149:46;;1018:1;2153:7;1018:1;3931:14;;3927:40;;1018:1;669:10811;;;-1:-1:-1;;;4023:38:25;;;;;669:10811;;;4058:2;669:10811;;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;;;;;4023:38;;;;;;;;;;;669:10811;4019:63;;;669:10811;;;;;;;;;;;;4157:50;;;;;669:10811;;;;;;4157:50;;;;;;;;;;;669:10811;4256:13;;;;:42;;;669:10811;4252:75;;4341:13;;;:42;;;669:10811;4337:75;;4476:20;4472:186;;669:10811;;;;;-1:-1:-1;;;4746:40:25;;4765:10;4746:40;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;4746:40;;;;;;;;;;;;;669:10811;4822:14;;669:10811;4822:14;;669:10811;;;;;;;;;;4930:8;;;;;;:20;:8;;;;;669:10811;4930:20;:::i;:::-;4981:12;;;669:10811;;4981:51;5092:14;5088:279;;4981:51;669:10811;;;;;;;;5435:35;;;;;669:10811;;;;;;;;;;;;;;;5435:35;;;;;669:10811;5435:35;;;;;;;;;;;4981:51;669:10811;;;;;5518:156;;;;;;669:10811;;;;;;;;;;;;;;;;5518:156;;4765:10;5518:156;;;669:10811;;;;;;;;;;;;;;;;;;;5518:156;;;;;;;;4981:51;669:10811;;;;;;;;;;;;;;;;;;5698:197;669:10811;4765:10;5698:197;;669:10811;2153:7;1018:1;669:10811;;5518:156;;;;:::i;:::-;669:10811;;5518:156;;;;;669:10811;;;;;;;;;5435:35;;;;:::i;:::-;669:10811;;5435:35;;;;;669:10811;;;;;;;;;5435:35;669:10811;;;5088:279;669:10811;;;;;;;;;;;;;;5138:162;669:10811;;;;;;;;;;;;5138:162;;;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;5138:162;;;;;;;;;;;;;;5088:279;5318:9;;5314:42;;5088:279;;;;;;;;;;5314:42;-1:-1:-1;669:10811:25;;-1:-1:-1;;;5336:20:25;;;5138:162;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;:::i;:::-;5138:162;;;669:10811;;;;5138:162;;;;;;669:10811;;;;;;;;;4981:51;5023:8;;;:::i;:::-;4981:51;;669:10811;-1:-1:-1;;;669:10811:25;;;;;;;;4746:40;;;;;;-1:-1:-1;4746:40:25;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;669:10811;;;;;;;;;4472:186;669:10811;;4517:73;669:10811;;;;;;;;;;;;;;;;4517:73;;4566:4;4546:10;4517:73;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;;;4517:73;;;;;;;;;;;;;;4472:186;4516:74;4472:186;4512:136;669:10811;;-1:-1:-1;;;4617:16:25;;669:10811;;4617:16;4517:73;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;:::i;:::-;4517:73;;;669:10811;;;;4517:73;;;;;4337:75;669:10811;;-1:-1:-1;;;4392:20:25;;669:10811;;4392:20;4341:42;669:10811;;;4358:25;;4341:42;;4256;669:10811;;;4273:25;;4256:42;;4157:50;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;4157:50;;;;669:10811;;;;4157:50;;;;;4019:63;669:10811;;-1:-1:-1;;;4070:12:25;;669:10811;;4070:12;4023:38;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;:::i;:::-;4023:38;;;;;;;;3927:40;669:10811;;-1:-1:-1;;;3954:13:25;;669:10811;;3954:13;2149:46;669:10811;;-1:-1:-1;;;2180:15:25;;669:10811;;2180:15;669:10811;;;;;;;;;;;;;;;;10364:36;669:10811;;;;:::i;:::-;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;10257:20;10317:19;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;10364:36;;;;;669:10811;;;;;;;;;;;;;;;;;;;;;10364:36;;;;;;;;;;;;;;;669:10811;;;;;;;;;10425:11;669:10811;;;;;;;;;;;10425:34;;;;;;669:10811;10425:34;;;;;;;;;;;669:10811;10482:13;;;;669:10811;;;10478:211;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;10478:211;669:10811;;-1:-1:-1;;;10532:55:25;;-1:-1:-1;;;;;669:10811:25;;10532:55;;;669:10811;;;;;;;;;;;;;;;;;-1:-1:-1;669:10811:25;;-1:-1:-1;669:10811:25;;;;;;;;;;;;;;;;;;10532:55;;;;;;;;;;;;;;;;;;;;10478:211;-1:-1:-1;669:10811:25;;;;-1:-1:-1;;;10621:57:25;;-1:-1:-1;;;;;669:10811:25;;;10621:57;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;10621:57;;;;;;;;;;;;;10478:211;-1:-1:-1;10601:77:25;;10478:211;-1:-1:-1;10601:77:25;669:10811;;10478:211;;;;;10621:57;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;;;;;;:::i;:::-;10621:57;;;;;;;669:10811;;;10621:57;;;;;;669:10811;;;;;;;;;;10532:55;;;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;;;10532:55;;;;;;;;;669:10811;;;;;;;;;10425:34;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;10425:34;;;;;;;;;;669:10811;;;;;;;;;10364:36;669:10811;10364:36;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;669:10811:25;;;;;;;-1:-1:-1;669:10811:25;;;;;;;;;;;;;;;;;;;1112:4;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;;;;;;;;;;;;;;801:31;669:10811;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;1018:1;2153:7;669:10811;2153:18;2149:46;;1018:1;2153:7;1018:1;8923:11;;8919:37;;669:10811;;;;-1:-1:-1;;;9013:40:25;;9032:10;9013:40;;;669:10811;;;;;;;;;-1:-1:-1;;;;;669:10811:25;;;;;;;9032:10;;669:10811;;;;;;9013:40;;;;;;;;;;;;;;669:10811;9129:8;;;;;;;669:10811;;;9125:502;;669:10811;9718:15;;;;;:::i;:::-;9672:62;;;;;;669:10811;;-1:-1:-1;;;9672:62:25;;9032:10;9672:62;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9672:62;;;;;;;;;;669:10811;-1:-1:-1;;669:10811:25;;;;-1:-1:-1;;;9786:44:25;;9032:10;9786:44;;;669:10811;;;;;;;;;;;;;;;9786:44;;;669:10811;9786:44;;669:10811;;9032:10;;669:10811;9786:44;;;;;;;;;;;669:10811;9785:45;;9781:99;;669:10811;;9903:49;669:10811;;;;;9032:10;9903:49;;669:10811;2153:7;1018:1;669:10811;;9781:99;669:10811;;-1:-1:-1;;;9853:16:25;;;9786:44;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;:::i;:::-;9786:44;;;;;;;;;669:10811;;;;;;;;;9672:62;;;;:::i;:::-;669:10811;;9672:62;;;;9125:502;9182:14;;;;;;669:10811;;;;;;;;;;1018:1;669:10811;;;;;;;;;;;;;;;9242:34;;;;;669:10811;9242:34;;;;;;;;;;;;;;;9125:502;-1:-1:-1;669:10811:25;;9308:13;;;669:10811;;;;9308:54;669:10811;9405:10;669:10811;;;;9405:155;669:10811;;;;;;;;;;;;9405:155;;;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;9405:155;;;;;;;;;;;;;;9308:54;9578:9;;9574:42;;9125:502;;;;;;9574:42;669:10811;;-1:-1:-1;;;9596:20:25;;669:10811;;9596:20;9405:155;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;:::i;:::-;9405:155;;;669:10811;;;;9405:155;;;;;;669:10811;;;;;;;;;9308:54;9352:9;;;;:::i;:::-;9308:54;;9242:34;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;9242:34;;;;;;;;;669:10811;-1:-1:-1;;;669:10811:25;;;;;;;;9013:40;;;;;;;-1:-1:-1;9013:40:25;;;;;;:::i;:::-;;;;;;669:10811;;;;;;;;-1:-1:-1;;669:10811:25;;;;;;:::i;:::-;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;;;;;;;;;;;;;;;;;;2045:10;:19;2041:46;;669:10811;;;3039:21;3035:60;;669:10811;3109:26;;3105:72;;669:10811;3191:25;;3187:68;;669:10811;;;3187:68;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;3105:72;-1:-1:-1;;;;;669:10811:25;;3137:40;669:10811;;;3137:40;669:10811;3105:72;;;3035:60;-1:-1:-1;;;;;669:10811:25;;;;;;;;3035:60;;;669:10811;;;;;;;;;;-1:-1:-1;;669:10811:25;;;;;;;;;;1018:1;2153:7;669:10811;2153:18;2149:46;;1018:1;2153:7;1018:1;669:10811;;;;-1:-1:-1;;;6383:40:25;;;6402:10;6383:40;;;669:10811;;;;;;;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;;;;;;;;;6383:40;;;;;;;;;;;;;;669:10811;;;6437:8;;;;669:10811;;;6437:13;6433:39;;669:10811;1018:1;669:10811;;;;;;;;6528:38;;;;;;669:10811;6563:2;669:10811;;;;6528:38;;669:10811;6528:38;;;;;;;;;;;;;669:10811;6524:63;;;669:10811;;;;;;;;;;;;;;6662:50;;;;;669:10811;;;;;6662:50;;;;;;;;;;;669:10811;;;;;6810:12;:41;;;669:10811;6806:74;;669:10811;;;6894:12;:41;;;669:10811;6890:74;;669:10811;;-1:-1:-1;;;7021:61:25;;6402:10;7021:61;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7021:61;;;;;;;;;;;;;669:10811;;;;;;;7128:35;;;;;669:10811;;;;;;;;;;;;;;7128:35;;;;;669:10811;7128:35;;;;;;;;669:10811;;;;;;;;;;;7211:141;;;;;669:10811;;;;;;;;;;;;;;;;;;;;7211:141;;6402:10;7211:141;;;669:10811;;;;;;;;;;;;;;;;;;7211:141;;;;;;;;;;;;;669:10811;-1:-1:-1;;669:10811:25;;;;7458:40;;;6402:10;7458:40;;;669:10811;;;;;;;;;;;;7458:40;;;669:10811;7458:40;;669:10811;;;;7458:40;;;;;;;;;;;;;;;;;;;669:10811;7512:11;;;669:10811;7512:16;:38;;;669:10811;7508:370;;669:10811;;;;;;;;;;;;;;;;;;7901:138;669:10811;6402:10;7901:138;;669:10811;2153:7;1018:1;669:10811;;7508:370;669:10811;7644:28;7651:14;;669:10811;7644:28;:::i;:::-;7690:15;;;7686:182;;7508:370;;;;7686:182;669:10811;;;;-1:-1:-1;;;7730:58:25;;6402:10;7730:58;;;669:10811;;;;;;;;;;;;;7730:58;;;;669:10811;7730:58;;669:10811;;;7730:58;;;;;;;;;;;7686:182;7729:59;;7725:129;;7686:182;;;;;;7725:129;669:10811;;-1:-1:-1;;;7819:16:25;;;7730:58;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;:::i;:::-;7730:58;;;;;;;;7512:38;7532:14;669:10811;7532:14;;669:10811;7532:18;;7512:38;;7458:40;;;;;;-1:-1:-1;7458:40:25;;;;;;:::i;:::-;;;;;;669:10811;;;;;;;;;7211:141;;;;;;;;:::i;:::-;669:10811;;7211:141;;;;;;;669:10811;;;;;;;;;7211:141;669:10811;;;7128:35;;;;;;;;;;:::i;:::-;;;;;;;;;669:10811;;;;;;;;;7021:61;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;7021:61;;;;;;;;;6890:74;669:10811;;-1:-1:-1;;;6944:20:25;;669:10811;;6944:20;6894:41;669:10811;;;6910:25;;6894:41;;6806:74;669:10811;;-1:-1:-1;;;6860:20:25;;669:10811;;6860:20;6810:41;669:10811;;;6826:25;;6810:41;;6662:50;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;6662:50;;;;;;;;;;669:10811;;;;;;;;;6524:63;669:10811;;-1:-1:-1;;;6575:12:25;;669:10811;;6575:12;6528:38;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;:::i;:::-;6528:38;;;669:10811;;;;6528:38;;;;;;669:10811;;;;;;;;;6433:39;669:10811;;-1:-1:-1;;;6459:13:25;;669:10811;;6459:13;6383:40;;;;;;;;;;;;;;:::i;:::-;;;;;669:10811;;;;;;;;;2149:46;669:10811;;-1:-1:-1;;;2180:15:25;;669:10811;;2180:15;669:10811;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;669:10811:25;;;;;;;;;;;;;;;;;;-1:-1:-1;;669:10811:25;;;;;;;;;;;;;;;;;;;;;11042:11;669:10811;;;;;11042:50;;;;;;669:10811;;;;;;;;;11042:50;;;;;;;;;;;;;;669:10811;-1:-1:-1;11129:14:25;;;669:10811;;11129:57;;669:10811;;;;;;;;;11216:67;;;;;;;;;;;;669:10811;;;;;;;;;;;;;;;;;;11216:67;;;;;;;;;;;;;;;11129:57;669:10811;;-1:-1:-1;;;11307:67:25;;;;;669:10811;;;;;;;;;;;;;;;;;-1:-1:-1;669:10811:25;;;;;;;;;;;;;11307:67;;;;;;;;;;;;;;11129:57;-1:-1:-1;669:10811:25;;-1:-1:-1;;;11395:76:25;;;;;669:10811;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;11395:76;;;;;;;;;;;;;11129:57;669:10811;;;;;;;;;;;;;;;;;;;;;;11395:76;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;;;:::i;:::-;11395:76;;;;;;;;;11307:67;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;11307:67;;;;;;;;669:10811;;;;;;;;;11216:67;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;;;;;;;11216:67;;;;;;;;669:10811;;;;;;;;;11129:57;11175:10;;;:::i;:::-;11129:57;;;11042:50;;;;;;;;;;;;;;;;;:::i;:::-;;;669:10811;;;;;11042:50;;;;;;;;;;669:10811;;;;;;;;;;;;;-1:-1:-1;;;;;669:10811:25;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;;669:10811:25;;;;;;;:::o","linkReferences":{}},"methodIdentifiers":{"PRECISION()":"aaf5eb68","closePosition(uint256,int256,uint256,uint256)":"623309b7","collateralToken()":"b2016bd4","depositCollateral(uint256,uint256)":"ece13732","getPositionWithPnL(address,uint256)":"db48fa36","ledger()":"56397c35","openPosition(uint256,int256,uint256,uint256,uint256)":"de366d11","owner()":"8da5cb5b","previewTrade(uint256,int256,uint256)":"0cd57818","priceEngine()":"8313e054","riskEngine()":"92b888ae","setEngines(address,address,address)":"6971c967","transferOwnership(address)":"f2fde38b","withdrawCollateral(uint256,uint256)":"767a7b05"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ledger\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_priceEngine\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_riskEngine\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_collateralToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InsufficientMargin\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidSize\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrantCall\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StalePrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Unauthorized\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"CollateralDeposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"CollateralWithdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"size\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"realizedPnL\",\"type\":\"int256\"}],\"name\":\"PositionClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"size\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"PositionOpened\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"sizeDelta\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"minPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPrice\",\"type\":\"uint256\"}],\"name\":\"closePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"collateralToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"depositCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"}],\"name\":\"getPositionWithPnL\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"size\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastFundingIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastBorrowIndex\",\"type\":\"uint256\"}],\"internalType\":\"struct IPositionLedger.Position\",\"name\":\"position\",\"type\":\"tuple\"},{\"internalType\":\"int256\",\"name\":\"unrealizedPnL\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"currentPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isLiquidatable\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ledger\",\"outputs\":[{\"internalType\":\"contract IPositionLedger\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"sizeDelta\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"collateralAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minPrice\",\"type\":\"uint256\"}],\"name\":\"openPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"sizeDelta\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"previewTrade\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"requiredMargin\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxLeverage\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"marginOk\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priceEngine\",\"outputs\":[{\"internalType\":\"contract IPriceEngine\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"riskEngine\",\"outputs\":[{\"internalType\":\"contract IRiskEngine\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ledger\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_priceEngine\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_riskEngine\",\"type\":\"address\"}],\"name\":\"setEngines\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"closePosition(uint256,int256,uint256,uint256)\":{\"params\":{\"marketId\":\"Market ID\",\"maxPrice\":\"Maximum price for closing shorts\",\"minPrice\":\"Minimum price for closing longs\",\"sizeDelta\":\"Size to close (opposite sign of position)\"}},\"depositCollateral(uint256,uint256)\":{\"params\":{\"amount\":\"Amount to add\",\"marketId\":\"Market ID\"}},\"openPosition(uint256,int256,uint256,uint256,uint256)\":{\"params\":{\"collateralAmount\":\"Collateral to deposit (in USDC)\",\"marketId\":\"Market to trade\",\"maxPrice\":\"Maximum execution price (slippage protection for longs)\",\"minPrice\":\"Minimum execution price (slippage protection for shorts)\",\"sizeDelta\":\"Position size change (positive = long, negative = short)\"}},\"withdrawCollateral(uint256,uint256)\":{\"params\":{\"amount\":\"Amount to withdraw\",\"marketId\":\"Market ID\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"closePosition(uint256,int256,uint256,uint256)\":{\"notice\":\"Close or reduce a position\"},\"depositCollateral(uint256,uint256)\":{\"notice\":\"Add collateral to an existing position\"},\"getPositionWithPnL(address,uint256)\":{\"notice\":\"Get position details with current PnL\"},\"openPosition(uint256,int256,uint256,uint256,uint256)\":{\"notice\":\"Open or increase a position\"},\"previewTrade(uint256,int256,uint256)\":{\"notice\":\"Preview a trade execution\"},\"withdrawCollateral(uint256,uint256)\":{\"notice\":\"Remove collateral from a position\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/Router.sol\":\"Router\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"],\"viaIR\":true},\"sources\":{\"src/Router.sol\":{\"keccak256\":\"0x609d0676bebbfc24ad03b7bd2f42592f51477dd4dde55ebac57c9351317dc61e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8108988f1ce718143f24c6b9b5bcc38693e92337c9ae4842fa9370895f18bd60\",\"dweb:/ipfs/Qme1DKdTw8W6dqXGHTr8TnsDXPNbkByBkYkZ1UQa8g48eF\"]},\"src/interfaces/IERC20.sol\":{\"keccak256\":\"0x88f39e00eb8be2dbda2c7f569c79e7e9a833c75de9f848bd568319c197d59c63\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ff81bc98b716814319bd219227c0800fa8bfa49dbce9b6d476d3bf7561bc6500\",\"dweb:/ipfs/QmPuXndauWg7WogLthCyXEyqQEjH4bgjA7GFejV2DjcFNM\"]},\"src/interfaces/IPositionLedger.sol\":{\"keccak256\":\"0x24384fd14f706615430e617695cb757b52471129c1c1635aae8be976da37e12e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8c3478b876621f0d9ac40b7aa3883ef00272b674c0b18b38628c17250ba77706\",\"dweb:/ipfs/QmTu11WwEFAAMntD2KvygSmdk7o56BypsrqxiCsAUFf9gz\"]},\"src/interfaces/IPriceEngine.sol\":{\"keccak256\":\"0x27544b20ae5e9916456561d8478b1ccffe1be334dba9cf94f108c103cb618a04\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8290d46925b6198b7e80b9e9489054c07ea9d92aa32522c0811fcf76b9d14eac\",\"dweb:/ipfs/QmdKt2NXb1cjJjX36DBUc6BMpxsmgnrYVN59Nn6aRntNcY\"]},\"src/interfaces/IRiskEngine.sol\":{\"keccak256\":\"0x07f53fe738d2be963107024d6136a348f1172a07d167034352ae2ea7ffb0ec00\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ef556ab3f08dc6a17833f58edb6f5b90efbcb24f8b1a088a632c3fb463978e81\",\"dweb:/ipfs/QmPMSjdcnSVTzhq7eRLKasPFeY2XPCMF3yfdNewb4Jba6C\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_ledger","type":"address"},{"internalType":"address","name":"_priceEngine","type":"address"},{"internalType":"address","name":"_riskEngine","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InsufficientMargin"},{"inputs":[],"type":"error","name":"InvalidSize"},{"inputs":[],"type":"error","name":"ReentrantCall"},{"inputs":[],"type":"error","name":"StalePrice"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[],"type":"error","name":"Unauthorized"},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"CollateralDeposited","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"CollateralWithdrawn","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"int256","name":"size","type":"int256","indexed":false},{"internalType":"uint256","name":"executionPrice","type":"uint256","indexed":false},{"internalType":"int256","name":"realizedPnL","type":"int256","indexed":false}],"type":"event","name":"PositionClosed","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"int256","name":"size","type":"int256","indexed":false},{"internalType":"uint256","name":"executionPrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false},{"internalType":"uint256","name":"fee","type":"uint256","indexed":false}],"type":"event","name":"PositionOpened","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"sizeDelta","type":"int256"},{"internalType":"uint256","name":"minPrice","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"closePosition"},{"inputs":[],"stateMutability":"view","type":"function","name":"collateralToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"depositCollateral"},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"marketId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getPositionWithPnL","outputs":[{"internalType":"struct IPositionLedger.Position","name":"position","type":"tuple","components":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"size","type":"int256"},{"internalType":"uint256","name":"entryPrice","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"openTimestamp","type":"uint256"},{"internalType":"uint256","name":"lastFundingIndex","type":"uint256"},{"internalType":"uint256","name":"lastBorrowIndex","type":"uint256"}]},{"internalType":"int256","name":"unrealizedPnL","type":"int256"},{"internalType":"uint256","name":"currentPrice","type":"uint256"},{"internalType":"bool","name":"isLiquidatable","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"ledger","outputs":[{"internalType":"contract IPositionLedger","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"sizeDelta","type":"int256"},{"internalType":"uint256","name":"collateralAmount","type":"uint256"},{"internalType":"uint256","name":"maxPrice","type":"uint256"},{"internalType":"uint256","name":"minPrice","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"openPosition"},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"sizeDelta","type":"int256"},{"internalType":"uint256","name":"collateral","type":"uint256"}],"stateMutability":"view","type":"function","name":"previewTrade","outputs":[{"internalType":"uint256","name":"executionPrice","type":"uint256"},{"internalType":"uint256","name":"requiredMargin","type":"uint256"},{"internalType":"uint256","name":"maxLeverage","type":"uint256"},{"internalType":"bool","name":"marginOk","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"priceEngine","outputs":[{"internalType":"contract IPriceEngine","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"riskEngine","outputs":[{"internalType":"contract IRiskEngine","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"_ledger","type":"address"},{"internalType":"address","name":"_priceEngine","type":"address"},{"internalType":"address","name":"_riskEngine","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setEngines"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"withdrawCollateral"}],"devdoc":{"kind":"dev","methods":{"closePosition(uint256,int256,uint256,uint256)":{"params":{"marketId":"Market ID","maxPrice":"Maximum price for closing shorts","minPrice":"Minimum price for closing longs","sizeDelta":"Size to close (opposite sign of position)"}},"depositCollateral(uint256,uint256)":{"params":{"amount":"Amount to add","marketId":"Market ID"}},"openPosition(uint256,int256,uint256,uint256,uint256)":{"params":{"collateralAmount":"Collateral to deposit (in USDC)","marketId":"Market to trade","maxPrice":"Maximum execution price (slippage protection for longs)","minPrice":"Minimum execution price (slippage protection for shorts)","sizeDelta":"Position size change (positive = long, negative = short)"}},"withdrawCollateral(uint256,uint256)":{"params":{"amount":"Amount to withdraw","marketId":"Market ID"}}},"version":1},"userdoc":{"kind":"user","methods":{"closePosition(uint256,int256,uint256,uint256)":{"notice":"Close or reduce a position"},"depositCollateral(uint256,uint256)":{"notice":"Add collateral to an existing position"},"getPositionWithPnL(address,uint256)":{"notice":"Get position details with current PnL"},"openPosition(uint256,int256,uint256,uint256,uint256)":{"notice":"Open or increase a position"},"previewTrade(uint256,int256,uint256)":{"notice":"Preview a trade execution"},"withdrawCollateral(uint256,uint256)":{"notice":"Remove collateral from a position"}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/Router.sol":"Router"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"src/Router.sol":{"keccak256":"0x609d0676bebbfc24ad03b7bd2f42592f51477dd4dde55ebac57c9351317dc61e","urls":["bzz-raw://8108988f1ce718143f24c6b9b5bcc38693e92337c9ae4842fa9370895f18bd60","dweb:/ipfs/Qme1DKdTw8W6dqXGHTr8TnsDXPNbkByBkYkZ1UQa8g48eF"],"license":"MIT"},"src/interfaces/IERC20.sol":{"keccak256":"0x88f39e00eb8be2dbda2c7f569c79e7e9a833c75de9f848bd568319c197d59c63","urls":["bzz-raw://ff81bc98b716814319bd219227c0800fa8bfa49dbce9b6d476d3bf7561bc6500","dweb:/ipfs/QmPuXndauWg7WogLthCyXEyqQEjH4bgjA7GFejV2DjcFNM"],"license":"MIT"},"src/interfaces/IPositionLedger.sol":{"keccak256":"0x24384fd14f706615430e617695cb757b52471129c1c1635aae8be976da37e12e","urls":["bzz-raw://8c3478b876621f0d9ac40b7aa3883ef00272b674c0b18b38628c17250ba77706","dweb:/ipfs/QmTu11WwEFAAMntD2KvygSmdk7o56BypsrqxiCsAUFf9gz"],"license":"MIT"},"src/interfaces/IPriceEngine.sol":{"keccak256":"0x27544b20ae5e9916456561d8478b1ccffe1be334dba9cf94f108c103cb618a04","urls":["bzz-raw://8290d46925b6198b7e80b9e9489054c07ea9d92aa32522c0811fcf76b9d14eac","dweb:/ipfs/QmdKt2NXb1cjJjX36DBUc6BMpxsmgnrYVN59Nn6aRntNcY"],"license":"MIT"},"src/interfaces/IRiskEngine.sol":{"keccak256":"0x07f53fe738d2be963107024d6136a348f1172a07d167034352ae2ea7ffb0ec00","urls":["bzz-raw://ef556ab3f08dc6a17833f58edb6f5b90efbcb24f8b1a088a632c3fb463978e81","dweb:/ipfs/QmPMSjdcnSVTzhq7eRLKasPFeY2XPCMF3yfdNewb4Jba6C"],"license":"MIT"}},"version":1},"id":25}