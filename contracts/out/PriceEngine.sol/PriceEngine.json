{"abi":[{"type":"constructor","inputs":[{"name":"_ledger","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"BASIS_POINTS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"PRICE_PRECISION","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"authorizedKeepers","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"batchUpdatePrices","inputs":[{"name":"marketIds","type":"uint256[]","internalType":"uint256[]"},{"name":"prices","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"configurePricing","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"oracle","type":"address","internalType":"address"},{"name":"emaPeriod","type":"uint256","internalType":"uint256"},{"name":"maxDeviation","type":"uint256","internalType":"uint256"},{"name":"vammDepth","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getExecutionPrice","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"sizeDelta","type":"int256","internalType":"int256"}],"outputs":[{"name":"executionPrice","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getMarkPrice","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPriceData","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"oraclePrice","type":"uint256","internalType":"uint256"},{"name":"emaPrice","type":"uint256","internalType":"uint256"},{"name":"markPrice","type":"uint256","internalType":"uint256"},{"name":"lastUpdate","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"isPriceStale","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"maxAge","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"ledger","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPositionLedger"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"priceConfigs","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"oracle","type":"address","internalType":"address"},{"name":"emaPeriod","type":"uint256","internalType":"uint256"},{"name":"maxDeviation","type":"uint256","internalType":"uint256"},{"name":"vammDepth","type":"uint256","internalType":"uint256"},{"name":"lastUpdate","type":"uint256","internalType":"uint256"},{"name":"oraclePrice","type":"uint256","internalType":"uint256"},{"name":"emaPrice","type":"uint256","internalType":"uint256"},{"name":"markPrice","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"setKeeperAuthorization","inputs":[{"name":"keeper","type":"address","internalType":"address"},{"name":"authorized","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updatePrice","inputs":[{"name":"marketId","type":"uint256","internalType":"uint256"},{"name":"newOraclePrice","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"KeeperAuthorized","inputs":[{"name":"keeper","type":"address","indexed":true,"internalType":"address"},{"name":"authorized","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"PriceConfigSet","inputs":[{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"oracle","type":"address","indexed":false,"internalType":"address"},{"name":"emaPeriod","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"vammDepth","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PriceUpdated","inputs":[{"name":"marketId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"oraclePrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"emaPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"markPrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"InvalidPrice","inputs":[]},{"type":"error","name":"MarketNotConfigured","inputs":[]},{"type":"error","name":"PriceDeviationTooHigh","inputs":[]},{"type":"error","name":"StalePrice","inputs":[]},{"type":"error","name":"Unauthorized","inputs":[]}],"bytecode":{"object":"0x60a0346100a057601f610e4138819003918201601f19168301916001600160401b038311848410176100a4578084926020946040528339810103126100a057516001600160a01b038116908190036100a0573360018060a01b03195f5416175f55608052335f52600260205260405f20600160ff19825416179055604051610d8890816100b9823960805181818161043501528181610a110152610c170152f35b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe6080604081815260049081361015610015575f80fd5b5f9260e08435811c91826356397c35146109fd575081635af3d061146109d157816382367b2d146108445781638da5cb5b1461081c5781638fd652c3146106c45781639368d9b01461064457816395082d2514610621578163a0e36057146103d8578163c56f264d1461039a578163cc30bb0514610368578163de4ef8151461031d578163dfe383bc146101d857508063e1f1c4a7146101b7578063eee81ff9146101215763f2fde38b146100c8575f80fd5b3461011d57602036600319011261011d576100e1610a8b565b8354926001600160a01b0392838516330361011157505016906bffffffffffffffffffffffff60a01b1617815580f35b516282b42960e81b8152fd5b8280fd5b50903461011d578160031936011261011d5761013b610a8b565b90602435918215158093036101b35784546001600160a01b039290831633036101a65750916020917fd370523e7a29cc54b0e1e6b66ffeb47a2c0d6e37b090e2da19993c7282da39ac9316938486526002835280862060ff1981541660ff841617905551908152a280f35b84516282b42960e81b8152fd5b8480fd5b8382346101d457816003193601126101d457602090516127108152f35b5080fd5b905083913461011d5760a036600319011261011d578335916024356001600160a01b03818116939184900361031957604435906084359381885416330361030a57835191610100830183811067ffffffffffffffff8211176102f7578860609795938b8d8997956007957f30fa005fc3429e5c81f53bfd45a5982f4c9937070f077950e3a45e9d85a140c79d9b528a87526020870188815289880160643581528d8901918c835260808a01938685528c60a08c019780895260c08d0199818b528d019a818c5281526001602052209a51166bffffffffffffffffffffffff60a01b8b5416178a555160018a015551600289015551600388015551908601555160058501555160068401555191015581519384526020840152820152a280f35b634e487b7160e01b8a5260418b5260248afd5b83516282b42960e81b81528990fd5b8580fd5b5050903461011d57602036600319011261011d578160809382358152600160205220600581015492600682015492600783015492015492815194855260208501528301526060820152f35b5050903461011d57916103926020938361038136610a40565b949081526001875220015442610ad7565b119051908152f35b8483346101d45760203660031901126101d45760209160ff9082906001600160a01b036103c5610a8b565b1681526002855220541690519015158152f35b849291503461011d578160031936011261011d578335808452600160205282842054602435926001600160a01b039290918316156106115780865260016020528486209285519163eb44fdd360e01b8352888301528282602481847f0000000000000000000000000000000000000000000000000000000000000000165afa801561060757610559575b50505083821261054a5781935b670de0b6b3a764000094858102908082048714901517156105375760038301546001600160ff1b0381168103610524576020975082916104b29160011b90610b18565b9313156104ee575090836104ce60076104d59401549283610af8565b0490610b0b565b918083116104e6575b505b51908152f35b9150836104de565b9192939060076105019101549384610af8565b04905081811061051657505060015b906104e0565b61051f91610ad7565b610510565b634e487b7160e01b835260118852602483fd5b634e487b7160e01b825260118752602482fd5b61055382610b5a565b9361046f565b8282813d8311610600575b61056e8183610aa1565b810103126105e957855192830183811067ffffffffffffffff8211176105ed578652815190811681036105e9579060c0918352602081015160208401528581015186840152606081015160608401526080810151608084015260a081015160a084015201519081151582036103195760c00152858080610462565b8680fd5b634e487b7160e01b885260418952602488fd5b503d610564565b86513d89823e3d90fd5b8451639d5abc1360e01b81528790fd5b8483346101d457816003193601126101d45760209051670de0b6b3a76400008152f35b84939150346106c05760203660031901126106c05782610100948335815260016020522060018060a01b03815416936001820154936002830154906003840154908401549160058501549360076006870154960154978151998a5260208a01528801526060870152608086015260a085015260c0840152820152f35b8380fd5b50503461011d578060031936011261011d5767ffffffffffffffff9180358381116101b3576106f69036908301610a5a565b90926024948535818111610818576107119036908601610a5a565b9093338952600260205260ff848a20541615610809578181036107d557885b81811061073b578980f35b61074681838a610b36565b35610752828589610b36565b35303b156107d1578651916382367b2d60e01b8352898301528a8201528a8160448183305af180156107c7576107a6575b505f19811461079457600101610730565b634e487b7160e01b8a5260118752888afd5b8481116107b55785525f610783565b634e487b7160e01b8b5260418852898bfd5b86513d8d823e3d90fd5b8b80fd5b835162461bcd60e51b8152602081880152600f818a01526e098cadccee8d040dad2e6dac2e8c6d608b1b6044820152606490fd5b83516282b42960e81b81528690fd5b8780fd5b8483346101d457816003193601126101d457905490516001600160a01b039091168152602090f35b50503461011d5761085436610a40565b919092338552600260205260ff8286205416156109c4578385526001602052818520546001600160a01b0316156109b657821580156109a5575b61099857838552600160205281852081810190815480155f14610930575084925b6108b98487610ba7565b6002830154106109225750927fc6d3da45896ce1bca9d198309a2dbeea3c73a991748f8d88d796ffa06029de939492600792856108fd60036060980154848b610bfa565b948187600588940155846006820155015542905581519384526020840152820152a280f35b84516369e2517960e11b8152fd5b61093d6109489142610ad7565b600183015490610b6a565b6109528682610af8565b670de0b6b3a7640000918203828111610985579061097861097e92600686015490610af8565b90610b0b565b04926108af565b634e487b7160e01b8a526011865260248afd5b905162bfc92160e01b8152fd5b50670de0b6b3a7640000831161088e565b9051639d5abc1360e01b8152fd5b90516282b42960e81b8152fd5b5050903461011d57602036600319011261011d5781602093600792358152600185522001549051908152f35b8590346101d457816003193601126101d4577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b6040906003190112610a56576004359060243590565b5f80fd5b9181601f84011215610a565782359167ffffffffffffffff8311610a56576020808501948460051b010111610a5657565b600435906001600160a01b0382168203610a5657565b90601f8019910116810190811067ffffffffffffffff821117610ac357604052565b634e487b7160e01b5f52604160045260245ffd5b91908203918211610ae457565b634e487b7160e01b5f52601160045260245ffd5b81810292918115918404141715610ae457565b91908201809211610ae457565b8115610b22570490565b634e487b7160e01b5f52601260045260245ffd5b9190811015610b465760051b0190565b634e487b7160e01b5f52603260045260245ffd5b600160ff1b8114610ae4575f0390565b9080821015610b9957670de0b6b3a764000091828102928184041490151715610ae457610b9691610b18565b90565b5050670de0b6b3a764000090565b90610bc49080831115610bf057610bbe8184610ad7565b92610b0b565b60011c8015610bea5761271091828102928184041490151715610ae457610b9691610b18565b50505f90565b610bbe8382610ad7565b604051633510954d60e01b815260048101919091526020816024817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610d47575f91610d13575b5080158015610d0b575b610d05575f8112610cf757805b670de0b6b3a76400009384820291808304861490151715610ae457610c8a91610b18565b9067016345785d8a0000808311610cef575b505f8091135f14610cc8575090826104ce610cb79383610af8565b90808211610cc3575090565b905090565b919290610cd59084610af8565b049050818110610ce6575050600190565b610b9691610ad7565b91505f610c9c565b610d0081610b5a565b610c66565b50905090565b508215610c59565b906020823d8211610d3f575b81610d2c60209383610aa1565b81010312610d3c5750515f610c4f565b80fd5b3d9150610d1f565b6040513d5f823e3d90fdfea2646970667358221220e93f9af918b73742503e2463eb3931992b7037ea93d7af1a8833655cd4d9cf4c64736f6c63430008140033","sourceMap":"520:9883:23:-:0;;;;;;;;;;;;;-1:-1:-1;;520:9883:23;;;;-1:-1:-1;;;;;520:9883:23;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;520:9883:23;;;;;;;;2666:10;520:9883;;;;;;-1:-1:-1;520:9883:23;;;-1:-1:-1;520:9883:23;2686:33;;2666:10;-1:-1:-1;520:9883:23;2729:17;520:9883;;;-1:-1:-1;520:9883:23;;;;;;;;;;;;;;;;;;2686:33;520:9883;;;;;;;;;;;;;;;;;-1:-1:-1;520:9883:23;;;;;;-1:-1:-1;520:9883:23;;;;;-1:-1:-1;520:9883:23","linkReferences":{}},"deployedBytecode":{"object":"0x6080604081815260049081361015610015575f80fd5b5f9260e08435811c91826356397c35146109fd575081635af3d061146109d157816382367b2d146108445781638da5cb5b1461081c5781638fd652c3146106c45781639368d9b01461064457816395082d2514610621578163a0e36057146103d8578163c56f264d1461039a578163cc30bb0514610368578163de4ef8151461031d578163dfe383bc146101d857508063e1f1c4a7146101b7578063eee81ff9146101215763f2fde38b146100c8575f80fd5b3461011d57602036600319011261011d576100e1610a8b565b8354926001600160a01b0392838516330361011157505016906bffffffffffffffffffffffff60a01b1617815580f35b516282b42960e81b8152fd5b8280fd5b50903461011d578160031936011261011d5761013b610a8b565b90602435918215158093036101b35784546001600160a01b039290831633036101a65750916020917fd370523e7a29cc54b0e1e6b66ffeb47a2c0d6e37b090e2da19993c7282da39ac9316938486526002835280862060ff1981541660ff841617905551908152a280f35b84516282b42960e81b8152fd5b8480fd5b8382346101d457816003193601126101d457602090516127108152f35b5080fd5b905083913461011d5760a036600319011261011d578335916024356001600160a01b03818116939184900361031957604435906084359381885416330361030a57835191610100830183811067ffffffffffffffff8211176102f7578860609795938b8d8997956007957f30fa005fc3429e5c81f53bfd45a5982f4c9937070f077950e3a45e9d85a140c79d9b528a87526020870188815289880160643581528d8901918c835260808a01938685528c60a08c019780895260c08d0199818b528d019a818c5281526001602052209a51166bffffffffffffffffffffffff60a01b8b5416178a555160018a015551600289015551600388015551908601555160058501555160068401555191015581519384526020840152820152a280f35b634e487b7160e01b8a5260418b5260248afd5b83516282b42960e81b81528990fd5b8580fd5b5050903461011d57602036600319011261011d578160809382358152600160205220600581015492600682015492600783015492015492815194855260208501528301526060820152f35b5050903461011d57916103926020938361038136610a40565b949081526001875220015442610ad7565b119051908152f35b8483346101d45760203660031901126101d45760209160ff9082906001600160a01b036103c5610a8b565b1681526002855220541690519015158152f35b849291503461011d578160031936011261011d578335808452600160205282842054602435926001600160a01b039290918316156106115780865260016020528486209285519163eb44fdd360e01b8352888301528282602481847f0000000000000000000000000000000000000000000000000000000000000000165afa801561060757610559575b50505083821261054a5781935b670de0b6b3a764000094858102908082048714901517156105375760038301546001600160ff1b0381168103610524576020975082916104b29160011b90610b18565b9313156104ee575090836104ce60076104d59401549283610af8565b0490610b0b565b918083116104e6575b505b51908152f35b9150836104de565b9192939060076105019101549384610af8565b04905081811061051657505060015b906104e0565b61051f91610ad7565b610510565b634e487b7160e01b835260118852602483fd5b634e487b7160e01b825260118752602482fd5b61055382610b5a565b9361046f565b8282813d8311610600575b61056e8183610aa1565b810103126105e957855192830183811067ffffffffffffffff8211176105ed578652815190811681036105e9579060c0918352602081015160208401528581015186840152606081015160608401526080810151608084015260a081015160a084015201519081151582036103195760c00152858080610462565b8680fd5b634e487b7160e01b885260418952602488fd5b503d610564565b86513d89823e3d90fd5b8451639d5abc1360e01b81528790fd5b8483346101d457816003193601126101d45760209051670de0b6b3a76400008152f35b84939150346106c05760203660031901126106c05782610100948335815260016020522060018060a01b03815416936001820154936002830154906003840154908401549160058501549360076006870154960154978151998a5260208a01528801526060870152608086015260a085015260c0840152820152f35b8380fd5b50503461011d578060031936011261011d5767ffffffffffffffff9180358381116101b3576106f69036908301610a5a565b90926024948535818111610818576107119036908601610a5a565b9093338952600260205260ff848a20541615610809578181036107d557885b81811061073b578980f35b61074681838a610b36565b35610752828589610b36565b35303b156107d1578651916382367b2d60e01b8352898301528a8201528a8160448183305af180156107c7576107a6575b505f19811461079457600101610730565b634e487b7160e01b8a5260118752888afd5b8481116107b55785525f610783565b634e487b7160e01b8b5260418852898bfd5b86513d8d823e3d90fd5b8b80fd5b835162461bcd60e51b8152602081880152600f818a01526e098cadccee8d040dad2e6dac2e8c6d608b1b6044820152606490fd5b83516282b42960e81b81528690fd5b8780fd5b8483346101d457816003193601126101d457905490516001600160a01b039091168152602090f35b50503461011d5761085436610a40565b919092338552600260205260ff8286205416156109c4578385526001602052818520546001600160a01b0316156109b657821580156109a5575b61099857838552600160205281852081810190815480155f14610930575084925b6108b98487610ba7565b6002830154106109225750927fc6d3da45896ce1bca9d198309a2dbeea3c73a991748f8d88d796ffa06029de939492600792856108fd60036060980154848b610bfa565b948187600588940155846006820155015542905581519384526020840152820152a280f35b84516369e2517960e11b8152fd5b61093d6109489142610ad7565b600183015490610b6a565b6109528682610af8565b670de0b6b3a7640000918203828111610985579061097861097e92600686015490610af8565b90610b0b565b04926108af565b634e487b7160e01b8a526011865260248afd5b905162bfc92160e01b8152fd5b50670de0b6b3a7640000831161088e565b9051639d5abc1360e01b8152fd5b90516282b42960e81b8152fd5b5050903461011d57602036600319011261011d5781602093600792358152600185522001549051908152f35b8590346101d457816003193601126101d4577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b6040906003190112610a56576004359060243590565b5f80fd5b9181601f84011215610a565782359167ffffffffffffffff8311610a56576020808501948460051b010111610a5657565b600435906001600160a01b0382168203610a5657565b90601f8019910116810190811067ffffffffffffffff821117610ac357604052565b634e487b7160e01b5f52604160045260245ffd5b91908203918211610ae457565b634e487b7160e01b5f52601160045260245ffd5b81810292918115918404141715610ae457565b91908201809211610ae457565b8115610b22570490565b634e487b7160e01b5f52601260045260245ffd5b9190811015610b465760051b0190565b634e487b7160e01b5f52603260045260245ffd5b600160ff1b8114610ae4575f0390565b9080821015610b9957670de0b6b3a764000091828102928184041490151715610ae457610b9691610b18565b90565b5050670de0b6b3a764000090565b90610bc49080831115610bf057610bbe8184610ad7565b92610b0b565b60011c8015610bea5761271091828102928184041490151715610ae457610b9691610b18565b50505f90565b610bbe8382610ad7565b604051633510954d60e01b815260048101919091526020816024817f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03165afa908115610d47575f91610d13575b5080158015610d0b575b610d05575f8112610cf757805b670de0b6b3a76400009384820291808304861490151715610ae457610c8a91610b18565b9067016345785d8a0000808311610cef575b505f8091135f14610cc8575090826104ce610cb79383610af8565b90808211610cc3575090565b905090565b919290610cd59084610af8565b049050818110610ce6575050600190565b610b9691610ad7565b91505f610c9c565b610d0081610b5a565b610c66565b50905090565b508215610c59565b906020823d8211610d3f575b81610d2c60209383610aa1565b81010312610d3c5750515f610c4f565b80fd5b3d9150610d1f565b6040513d5f823e3d90fdfea2646970667358221220e93f9af918b73742503e2463eb3931992b7037ea93d7af1a8833655cd4d9cf4c64736f6c63430008140033","sourceMap":"520:9883:23:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;520:9883:23;;;;;;:::i;:::-;;;;-1:-1:-1;;;;;520:9883:23;;;;2223:10;:19;2219:46;;520:9883;;;;;;;;;;;;;2219:46;520:9883;-1:-1:-1;;;2251:14:23;;;520:9883;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;-1:-1:-1;;;;;520:9883:23;;;;2223:10;:19;2219:46;;520:9883;;;;3090:36;520:9883;;;;;;3037:17;520:9883;;;;;;;;;;;;;;;;;;;;3090:36;520:9883;;2219:46;520:9883;;-1:-1:-1;;;2251:14:23;;;520:9883;;;;;;;;;;;;;;;;;;;;;1545:5;520:9883;;;;;;;;;;;;;;;;;-1:-1:-1;;520:9883:23;;;;;;;;;-1:-1:-1;;;;;520:9883:23;;;;;;;;;;;;;;;;;;;;2223:10;:19;2219:46;;520:9883;;;;;;;;;;;;;;;;;;;;;;;;;;;3643:54;520:9883;;;;;;;3363:265;;520:9883;;;3363:265;;;520:9883;;;;3363:265;;;520:9883;;;;;3363:265;;520:9883;;;;3363:265;520:9883;3363:265;;520:9883;;;;3363:265;;;520:9883;;;;3363:265;;520:9883;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3643:54;520:9883;;;-1:-1:-1;;;520:9883:23;;;;;;;;2219:46;520:9883;;-1:-1:-1;;;2251:14:23;;520:9883;;2251:14;520:9883;;;;;;;;;;;;;-1:-1:-1;;520:9883:23;;;;;;;;;;;;;;;6488:18;;;520:9883;6508:15;;;;520:9883;6525:16;;;;520:9883;6543:17;;520:9883;;;;;;;;;;;;;;;;;;;;;;;;;;;8132:51;520:9883;;;;;;:::i;:::-;;;;;8150:12;520:9883;;;8150:33;520:9883;8132:15;:51;:::i;:::-;:60;520:9883;;;;;;;;;;;;;;-1:-1:-1;;520:9883:23;;;;;;;;;;-1:-1:-1;;;;;520:9883:23;;:::i;:::-;;;;1429:49;520:9883;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;520:9883:23;;;;;2468:43;2464:77;;520:9883;;;;;;;;;;;;;;;;7132:26;;;;;520:9883;7132:6;;520:9883;7132:6;;;520:9883;7132:26;;;;;;;;520:9883;-1:-1:-1;;;7303:14:23;;;520:9883;;7303:57;;;1598:4;520:9883;;;;;;;;;;;;;;;;;7422:16;;520:9883;-1:-1:-1;;;;;520:9883:23;;;;;;;;;;;7387:52;520:9883;;;7387:52;;:::i;:::-;7462:13;;520:9883;;;7546:16;;;7566:25;7546:16;:64;:16;;520:9883;7566:25;;;:::i;:::-;520:9883;7546:64;;:::i;:::-;7655:32;;;;7651:70;;7458:501;;;520:9883;;;;;7651:70;7689:32;-1:-1:-1;7651:70:23;;;7458:501;7812:16;;;;;:25;:16;;520:9883;7812:25;;;:::i;:::-;520:9883;;-1:-1:-1;7886:28:23;;;;;:62;;520:9883;7886:62;7458:501;;;7886:62;7921:27;;;:::i;:::-;7886:62;;520:9883;-1:-1:-1;;;520:9883:23;;;;;;;;;-1:-1:-1;;;520:9883:23;;;;;;;;7303:57;7349:10;;;:::i;:::-;7303:57;;;7132:26;;;;;;;;;;;;;;:::i;:::-;;;520:9883;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7132:26;;;;;520:9883;;;;;-1:-1:-1;;;520:9883:23;;;;;;;;7132:26;;;;;;520:9883;;;;;;;;;2464:77;520:9883;;-1:-1:-1;;;2520:21:23;;520:9883;;2520:21;520:9883;;;;;;;;;;;;;;;;;1598:4;520:9883;;;;;;;;;;;;;-1:-1:-1;;520:9883:23;;;;;;;;;;;;;;;;;;;;;;;1324:51;520:9883;1324:51;;520:9883;1324:51;;;;520:9883;1324:51;520:9883;1324:51;;520:9883;1324:51;;;520:9883;1324:51;;;;520:9883;1324:51;;;;;520:9883;1324:51;;520:9883;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;:::i;:::-;2348:10;;;520:9883;;2330:17;520:9883;;;;;;;;2329:30;2325:57;;5717:33;;;520:9883;;5785:13;5800:20;;;;;;520:9883;;;5822:3;5858:12;;;;;:::i;:::-;520:9883;5872:9;;;;;:::i;:::-;520:9883;5841:4;:41;;;;520:9883;;;;;;5841:41;;;;;520:9883;;;;;5841:4;;520:9883;5841:4;;;:41;;;;;;;;5822:3;-1:-1:-1;;;520:9883:23;;;;;;5785:13;;520:9883;-1:-1:-1;;;520:9883:23;;;;;;;;5841:41;520:9883;;;;;;;5841:41;;;520:9883;-1:-1:-1;;;520:9883:23;;;;;;;;5841:41;520:9883;;;;;;;;;5841:41;520:9883;;;;;;-1:-1:-1;;;520:9883:23;;;;;;;;;;;;-1:-1:-1;;;520:9883:23;;;;;;;2325:57;520:9883;;-1:-1:-1;;;2368:14:23;;520:9883;;2368:14;520:9883;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;520:9883:23;;;;;;;;;;;;;;;;;:::i;:::-;2348:10;;;;520:9883;;2330:17;520:9883;;;;;;;;2329:30;2325:57;;520:9883;;;2468:12;520:9883;;;;;;-1:-1:-1;;;;;520:9883:23;2468:43;2464:77;;4073:19;;:55;;;;520:9883;4069:82;;520:9883;;;2468:12;520:9883;;;;;4302:17;;;520:9883;;;4302:22;;4298:544;4302:22;;;4396:28;;4298:544;;4907:48;;;;:::i;:::-;2330:17;4981:19;;520:9883;-1:-1:-1;4965:67:23;;5192:16;;5433:62;5192:16;;5336;5192;;5149:60;5192:16;520:9883;5192:16;;520:9883;5149:60;;;:::i;:::-;5252:18;;;;;;;520:9883;5297:15;;;;520:9883;5336:16;520:9883;5394:15;520:9883;;;;;;;;;;;;;;5433:62;520:9883;;4965:67;520:9883;;-1:-1:-1;;;5009:23:23;;;4298:544;4608:35;4673:42;4608:15;;:35;:::i;:::-;2468:12;4698:16;;520:9883;4673:42;;:::i;:::-;4744:22;;;;:::i;:::-;1598:4;520:9883;;;;;;;;4797:15;4769:43;4744:68;4797:15;;;;520:9883;4769:43;;:::i;:::-;4744:68;;:::i;:::-;520:9883;4298:544;;;520:9883;-1:-1:-1;;;520:9883:23;;;;;;;;4069:82;520:9883;;-1:-1:-1;;;4137:14:23;;;4073:55;4096:32;1598:4;4096:32;;4073:55;;2464:77;520:9883;;-1:-1:-1;;;2520:21:23;;;2325:57;520:9883;;-1:-1:-1;;;2368:14:23;;;520:9883;;;;;;;;;-1:-1:-1;;520:9883:23;;;;;;;6118:32;520:9883;;;;;;;;6118:32;520:9883;;;;;;;;;;;;;;;;;;;;;1243:39;-1:-1:-1;;;;;520:9883:23;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;-1:-1:-1;;;;;520:9883:23;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;;520:9883:23;;;;;;;:::o;8339:291::-;;8443:17;;;;8439:45;;1598:4;520:9883;;;;;;;;;;;;;;;8587:36;;;:::i;:::-;8339:291;:::o;8439:45::-;8462:22;;1598:4;8462:22;:::o;8728:297::-;;8922:15;;8846;;;;;;8864;;;;:::i;:::-;8846:51;8922:15;:::i;:::-;520:9883;;8956:8;;8952:22;;1545:5;520:9883;;;;;;;;;;;;;;;8991:27;;;:::i;8952:22::-;8966:8;;-1:-1:-1;8966:8:23;:::o;8846:51::-;8882:15;;;;:::i;9116:1285::-;520:9883;;-1:-1:-1;;;9332:31:23;;;;;520:9883;;;;9332:31;520:9883;;;9332:6;-1:-1:-1;;;;;520:9883:23;9332:31;;;;;;;-1:-1:-1;9332:31:23;;;9116:1285;9386:14;;;:32;;;;9116:1285;9382:54;;-1:-1:-1;9670:14:23;;-1:-1:-1;;9670:57:23;;1598:4;520:9883;;;;;;;;;;;;;;;;9758:44;;;:::i;:::-;520:9883;;9912:26;;;9908:58;;9670:57;9985:17;-1:-1:-1;10016:13:23;;;10012:348;-1:-1:-1;;;10070:22:23;;;;10057:54;10070:22;;;:::i;10057:54::-;10129:27;;;;10125:60;;10012:348;9116:1285;:::o;10125:60::-;10158:27;;9116:1285;:::o;10012:348::-;10235:22;;;;;;;:::i;:::-;520:9883;;-1:-1:-1;10301:21:23;;;;;:48;;520:9883;9116:1285;:::o;10301:48::-;10329:20;;;:::i;9908:58::-;9940:26;-1:-1:-1;9908:58:23;;;9670:57;9716:10;;;:::i;:::-;9670:57;;9382:54;9420:16;;;;:::o;9386:32::-;9404:14;;;9386:32;;9332:31;;;;;;;;;;;;;;;;:::i;:::-;;;520:9883;;;;;;9332:31;;;520:9883;;;9332:31;;;-1:-1:-1;9332:31:23;;;520:9883;;;-1:-1:-1;520:9883:23;;;;","linkReferences":{},"immutableReferences":{"43217":[{"start":1077,"length":32},{"start":2577,"length":32},{"start":3095,"length":32}]}},"methodIdentifiers":{"BASIS_POINTS()":"e1f1c4a7","PRICE_PRECISION()":"95082d25","authorizedKeepers(address)":"c56f264d","batchUpdatePrices(uint256[],uint256[])":"8fd652c3","configurePricing(uint256,address,uint256,uint256,uint256)":"dfe383bc","getExecutionPrice(uint256,int256)":"a0e36057","getMarkPrice(uint256)":"5af3d061","getPriceData(uint256)":"de4ef815","isPriceStale(uint256,uint256)":"cc30bb05","ledger()":"56397c35","owner()":"8da5cb5b","priceConfigs(uint256)":"9368d9b0","setKeeperAuthorization(address,bool)":"eee81ff9","transferOwnership(address)":"f2fde38b","updatePrice(uint256,uint256)":"82367b2d"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_ledger\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"MarketNotConfigured\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PriceDeviationTooHigh\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"StalePrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Unauthorized\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"keeper\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"authorized\",\"type\":\"bool\"}],\"name\":\"KeeperAuthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"emaPeriod\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"vammDepth\",\"type\":\"uint256\"}],\"name\":\"PriceConfigSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oraclePrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"emaPrice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"markPrice\",\"type\":\"uint256\"}],\"name\":\"PriceUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"BASIS_POINTS\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"PRICE_PRECISION\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"authorizedKeepers\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"marketIds\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256[]\",\"name\":\"prices\",\"type\":\"uint256[]\"}],\"name\":\"batchUpdatePrices\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"emaPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxDeviation\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"vammDepth\",\"type\":\"uint256\"}],\"name\":\"configurePricing\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"sizeDelta\",\"type\":\"int256\"}],\"name\":\"getExecutionPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"executionPrice\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"}],\"name\":\"getMarkPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"}],\"name\":\"getPriceData\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"oraclePrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"emaPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"markPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastUpdate\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxAge\",\"type\":\"uint256\"}],\"name\":\"isPriceStale\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ledger\",\"outputs\":[{\"internalType\":\"contract IPositionLedger\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"priceConfigs\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"oracle\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"emaPeriod\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxDeviation\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"vammDepth\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"lastUpdate\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"oraclePrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"emaPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"markPrice\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"keeper\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"authorized\",\"type\":\"bool\"}],\"name\":\"setKeeperAuthorization\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"marketId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newOraclePrice\",\"type\":\"uint256\"}],\"name\":\"updatePrice\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"getExecutionPrice(uint256,int256)\":{\"params\":{\"marketId\":\"Market ID\",\"sizeDelta\":\"Size of trade (positive = buy/long, negative = sell/short)\"},\"returns\":{\"executionPrice\":\"Price after slippage\"}},\"updatePrice(uint256,uint256)\":{\"params\":{\"marketId\":\"Market to update\",\"newOraclePrice\":\"Fresh price from oracle (0-1e18)\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"batchUpdatePrices(uint256[],uint256[])\":{\"notice\":\"Batch update multiple markets\"},\"getExecutionPrice(uint256,int256)\":{\"notice\":\"Calculate execution price with slippage for a trade\"},\"getMarkPrice(uint256)\":{\"notice\":\"Get current mark price for a market\"},\"getPriceData(uint256)\":{\"notice\":\"Get all price data for a market\"},\"isPriceStale(uint256,uint256)\":{\"notice\":\"Check if price is stale\"},\"updatePrice(uint256,uint256)\":{\"notice\":\"Update price from oracle\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/PriceEngine.sol\":\"PriceEngine\"},\"evmVersion\":\"shanghai\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"],\"viaIR\":true},\"sources\":{\"src/PriceEngine.sol\":{\"keccak256\":\"0x82326cdf4b8f527d615fadb80b8e481c97e8b278b4c38583e242112b96a59a2f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b465846638e0212e28140619a26cf65730ffd0d66c0b1daf54815ea33e7d592d\",\"dweb:/ipfs/QmUrm5KiNn4Yj4k4wkV5ucTtAFVMEgXkFqGkwiMa9brMWR\"]},\"src/interfaces/IPositionLedger.sol\":{\"keccak256\":\"0x24384fd14f706615430e617695cb757b52471129c1c1635aae8be976da37e12e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8c3478b876621f0d9ac40b7aa3883ef00272b674c0b18b38628c17250ba77706\",\"dweb:/ipfs/QmTu11WwEFAAMntD2KvygSmdk7o56BypsrqxiCsAUFf9gz\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_ledger","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidPrice"},{"inputs":[],"type":"error","name":"MarketNotConfigured"},{"inputs":[],"type":"error","name":"PriceDeviationTooHigh"},{"inputs":[],"type":"error","name":"StalePrice"},{"inputs":[],"type":"error","name":"Unauthorized"},{"inputs":[{"internalType":"address","name":"keeper","type":"address","indexed":true},{"internalType":"bool","name":"authorized","type":"bool","indexed":false}],"type":"event","name":"KeeperAuthorized","anonymous":false},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"address","name":"oracle","type":"address","indexed":false},{"internalType":"uint256","name":"emaPeriod","type":"uint256","indexed":false},{"internalType":"uint256","name":"vammDepth","type":"uint256","indexed":false}],"type":"event","name":"PriceConfigSet","anonymous":false},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256","indexed":true},{"internalType":"uint256","name":"oraclePrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"emaPrice","type":"uint256","indexed":false},{"internalType":"uint256","name":"markPrice","type":"uint256","indexed":false}],"type":"event","name":"PriceUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"BASIS_POINTS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"PRICE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"authorizedKeepers","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256[]","name":"marketIds","type":"uint256[]"},{"internalType":"uint256[]","name":"prices","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function","name":"batchUpdatePrices"},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"address","name":"oracle","type":"address"},{"internalType":"uint256","name":"emaPeriod","type":"uint256"},{"internalType":"uint256","name":"maxDeviation","type":"uint256"},{"internalType":"uint256","name":"vammDepth","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"configurePricing"},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"int256","name":"sizeDelta","type":"int256"}],"stateMutability":"view","type":"function","name":"getExecutionPrice","outputs":[{"internalType":"uint256","name":"executionPrice","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getMarkPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getPriceData","outputs":[{"internalType":"uint256","name":"oraclePrice","type":"uint256"},{"internalType":"uint256","name":"emaPrice","type":"uint256"},{"internalType":"uint256","name":"markPrice","type":"uint256"},{"internalType":"uint256","name":"lastUpdate","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"uint256","name":"maxAge","type":"uint256"}],"stateMutability":"view","type":"function","name":"isPriceStale","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"ledger","outputs":[{"internalType":"contract IPositionLedger","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"priceConfigs","outputs":[{"internalType":"address","name":"oracle","type":"address"},{"internalType":"uint256","name":"emaPeriod","type":"uint256"},{"internalType":"uint256","name":"maxDeviation","type":"uint256"},{"internalType":"uint256","name":"vammDepth","type":"uint256"},{"internalType":"uint256","name":"lastUpdate","type":"uint256"},{"internalType":"uint256","name":"oraclePrice","type":"uint256"},{"internalType":"uint256","name":"emaPrice","type":"uint256"},{"internalType":"uint256","name":"markPrice","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"keeper","type":"address"},{"internalType":"bool","name":"authorized","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setKeeperAuthorization"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"},{"internalType":"uint256","name":"newOraclePrice","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updatePrice"}],"devdoc":{"kind":"dev","methods":{"getExecutionPrice(uint256,int256)":{"params":{"marketId":"Market ID","sizeDelta":"Size of trade (positive = buy/long, negative = sell/short)"},"returns":{"executionPrice":"Price after slippage"}},"updatePrice(uint256,uint256)":{"params":{"marketId":"Market to update","newOraclePrice":"Fresh price from oracle (0-1e18)"}}},"version":1},"userdoc":{"kind":"user","methods":{"batchUpdatePrices(uint256[],uint256[])":{"notice":"Batch update multiple markets"},"getExecutionPrice(uint256,int256)":{"notice":"Calculate execution price with slippage for a trade"},"getMarkPrice(uint256)":{"notice":"Get current mark price for a market"},"getPriceData(uint256)":{"notice":"Get all price data for a market"},"isPriceStale(uint256,uint256)":{"notice":"Check if price is stale"},"updatePrice(uint256,uint256)":{"notice":"Update price from oracle"}},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/PriceEngine.sol":"PriceEngine"},"evmVersion":"shanghai","libraries":{},"viaIR":true},"sources":{"src/PriceEngine.sol":{"keccak256":"0x82326cdf4b8f527d615fadb80b8e481c97e8b278b4c38583e242112b96a59a2f","urls":["bzz-raw://b465846638e0212e28140619a26cf65730ffd0d66c0b1daf54815ea33e7d592d","dweb:/ipfs/QmUrm5KiNn4Yj4k4wkV5ucTtAFVMEgXkFqGkwiMa9brMWR"],"license":"MIT"},"src/interfaces/IPositionLedger.sol":{"keccak256":"0x24384fd14f706615430e617695cb757b52471129c1c1635aae8be976da37e12e","urls":["bzz-raw://8c3478b876621f0d9ac40b7aa3883ef00272b674c0b18b38628c17250ba77706","dweb:/ipfs/QmTu11WwEFAAMntD2KvygSmdk7o56BypsrqxiCsAUFf9gz"],"license":"MIT"}},"version":1},"id":23}